<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=yes">
    <title>–í–ü–† 2025 | –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ –í–ü–† –ø–æ –º–∞—Ç–µ–º–∞—Ç–∏–∫–µ 4 –∫–ª–∞—Å—Å</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', 'Arial', sans-serif;
            background-color: #f9f7e8;
            background-image: 
                repeating-linear-gradient(90deg, 
                    rgba(200, 200, 255, 0.2) 0px, 
                    rgba(200, 200, 255, 0.2) 1px,
                    transparent 1px, 
                    transparent 20px),
                repeating-linear-gradient(0deg,
                    rgba(180, 180, 220, 0.1) 0px,
                    rgba(180, 180, 220, 0.1) 1px,
                    transparent 1px,
                    transparent 8px);
            background-size: 20px 20px, 100% 8px;
            min-height: 100vh;
            color: #2c3e50;
        }
        
        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .nav-bar {
            background: linear-gradient(135deg, #5c6bc0, #3949ab);
            border-radius: 50px;
            padding: 12px 25px;
            margin-bottom: 30px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            color: white;
            box-shadow: 0 4px 10px rgba(0,0,0,0.2);
        }
        /* ===== –¢–ê–ô–ú–ï–† ===== */
        .timer {
            background: #fff3e0;
            color: #f57c00;
            padding: 8px 20px;
            border-radius: 50px;
            font-weight: bold;
            font-size: 1.2em;
            display: inline-flex;
            align-items: center;
            gap: 10px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .timer.warning {
            background: #ffebee;
            color: #f44336;
            animation: pulse 1s infinite;
        }

        .timer.expired {
            background: #f44336;
            color: white;
        }

        @keyframes pulse {
        0% { opacity: 1; }
        50% { opacity: 0.7; }
        100% { opacity: 1; }
        }

        .timer-controls {
            display: flex;
            gap: 10px;
            margin-left: 15px;
        }

        .timer-btn {
            background: white;
            border: none;
            border-radius: 20px;
            padding: 4px 12px;
            cursor: pointer;
            font-size: 0.9em;
            transition: all 0.3s;
        }

        .timer-btn:hover {
            background: #5c6bc0;
            color: white;
        }       

        .time-settings {
            display: flex;
            gap: 10px;
            align-items: center;
            margin-left: 15px;
        }

        .time-select {
            padding: 5px 10px;
            border-radius: 20px;
            border: 2px solid #5c6bc0;
            background: white;
            font-weight: bold;
        }

        .nav-brand {
            font-size: 1.3em;
            font-weight: bold;
            cursor: pointer;
        }
        
        .nav-links span {
            color: white;
            margin-left: 20px;
            padding: 5px 15px;
            border-radius: 25px;
            cursor: pointer;
            transition: background 0.3s;
        }
        
        .nav-links span:hover {
            background: rgba(255,255,255,0.2);
        }
        
        .nav-links .active {
            background: rgba(255,255,255,0.3);
        }
        
        .card {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 25px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.15);
            margin-bottom: 20px;
            border: 2px solid #8b9dc3;
            animation: fadeIn 0.3s ease-out;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .btn {
            display: inline-block;
            padding: 12px 24px;
            border-radius: 12px;
            text-decoration: none;
            font-weight: bold;
            transition: all 0.3s;
            font-size: 1.1em;
            border: none;
            cursor: pointer;
            background: none;
        }
        
        .btn-primary {
            background: linear-gradient(135deg, #5c6bc0, #3949ab);
            color: white;
        }
        
        .btn-secondary {
            background: white;
            color: #3949ab;
            border: 2px solid #3949ab;
        }
        
        .btn-success {
            background: #4CAF50;
            color: white;
        }
        
        .btn:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }
        
        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        
        .progress {
            background: #e0e0e0;
            height: 10px;
            border-radius: 5px;
            margin: 20px 0;
            overflow: hidden;
        }
        
        .progress-bar {
            height: 100%;
            background: linear-gradient(90deg, #5c6bc0, #8aa0e0);
            width: 0%;
            border-radius: 5px;
            transition: width 0.3s;
        }
        
        .task-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 2px dashed #5c6bc0;
        }
        
        .task-number {
            background: #5c6bc0;
            color: white;
            padding: 8px 20px;
            border-radius: 25px;
            font-weight: bold;
        }
        
        .task-points {
            background: #e8eaf6;
            color: #3949ab;
            padding: 8px 20px;
            border-radius: 25px;
            font-weight: bold;
        }
        
        .task-question {
            font-size: 1.2em;
            line-height: 1.6;
            margin: 20px 0;
            padding: 20px;
            background: #f5f5f5;
            border-radius: 15px;
            border-left: 5px solid #5c6bc0;
        }
        
        .image-container {
            text-align: center;
            margin: 30px 0;
            background: white;
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .vpr-image {
            max-width: 100%;
            height: auto;
            border: 3px solid #5c6bc0;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }
        
        .image-caption {
            margin-top: 15px;
            color: #3949ab;
            font-weight: bold;
        }
        
        .table-container {
            overflow-x: auto;
            margin: 30px 0;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            background: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        
        th {
            background: #5c6bc0;
            color: white;
            padding: 12px;
            font-weight: normal;
        }
        
        td {
            padding: 10px;
            text-align: center;
            border: 1px solid #ddd;
        }
        
        .subtask {
            margin: 30px 0;
            padding: 20px;
            background: #f8f9ff;
            border-radius: 15px;
            border-left: 4px solid #5c6bc0;
        }
        
        .subtask-question {
            font-size: 1.1em;
            font-weight: bold;
            margin-bottom: 15px;
            color: #2c3e50;
        }
        
        .solution-area {
            margin: 20px 0;
        }
        
        .solution-label {
            font-weight: bold;
            margin-bottom: 8px;
            color: #3949ab;
        }
        
        .solution-input {
            width: 100%;
            min-height: 120px;
            padding: 15px;
            font-family: 'Courier New', monospace;
            font-size: 1em;
            border: 2px solid #c5cae9;
            border-radius: 10px;
            background: white;
            resize: vertical;
            line-height: 1.5;
        }
        
        .solution-input:focus {
            border-color: #5c6bc0;
            outline: none;
            box-shadow: 0 0 0 3px rgba(92, 107, 192, 0.1);
        }
        
        .answer-area {
            margin: 20px 0;
        }
        
        .answer-input {
            width: 250px;
            padding: 12px 15px;
            font-size: 1.2em;
            border: 2px solid #c5cae9;
            border-radius: 10px;
            font-family: 'Courier New', monospace;
            text-align: center;
        }
        
        .answer-input:focus {
            border-color: #5c6bc0;
            outline: none;
            box-shadow: 0 0 0 3px rgba(92, 107, 192, 0.1);
        }
        
        .drawing-grid {
            display: grid;
            grid-template-columns: repeat(20, 25px);
            gap: 1px;
            background: #eee;
            padding: 15px;
            justify-content: center;
            margin: 20px 0;
            border-radius: 10px;
            overflow-x: auto;
        }
        
        .grid-cell {
            width: 25px;
            height: 25px;
            background: white;
            border: 1px solid #ccc;
            cursor: pointer;
            transition: background 0.2s;
        }
        
        .grid-cell.filled {
            background: #5c6bc0;
        }
        
        .grid-cell:hover {
            background: #e8eaf6;
        }
        
        .variants-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }
        
        .variant-card {
            background: white;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            transition: all 0.3s;
            cursor: pointer;
        }
        
        .variant-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(0,0,0,0.15);
        }
        
        .variant-header {
            padding: 25px 20px;
            color: white;
            text-align: center;
        }
        
        .variant-body {
            padding: 20px;
        }
        
        .score-number {
            font-size: 5em;
            font-weight: bold;
            color: #3949ab;
            text-align: center;
        }
        
        .grade-box {
            padding: 30px;
            border-radius: 15px;
            color: white;
            text-align: center;
            margin: 30px 0;
        }
        
        .grade-number {
            font-size: 4em;
            font-weight: bold;
        }
        
        .results-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }
        
        .results-table th {
            background: #5c6bc0;
            color: white;
            padding: 12px;
        }
        
        .results-table td {
            padding: 12px;
            border-bottom: 1px solid #ddd;
        }
        
        .correct { color: #4CAF50; font-weight: bold; }
        .incorrect { color: #f44336; font-weight: bold; }
        
        .navigation {
            display: flex;
            gap: 10px;
            justify-content: space-between;
            margin-top: 20px;
        }
        
        .button-group {
            display: flex;
            gap: 15px;
            margin: 20px 0;
            flex-wrap: wrap;
        }
        
        .save-notice {
            background: #e8f5e8;
            color: #2e7d32;
            padding: 10px;
            border-radius: 8px;
            text-align: center;
            margin: 10px 0;
            display: none;
        }
        
        @media (max-width: 600px) {
            .container {
                padding: 10px;
            }
            
            .nav-bar {
                flex-direction: column;
                gap: 10px;
                text-align: center;
            }
            
            .nav-links span {
                margin: 0 10px;
            }
            
            .drawing-grid {
                grid-template-columns: repeat(20, 18px);
            }
            
            .grid-cell {
                width: 18px;
                height: 18px;
            }
            
            .answer-input {
                width: 100%;
            }
            
            .variants-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="nav-bar">
            <div class="nav-brand" onclick="showPage('main')">üìö –í–ü–† 2025</div>
    
            <!-- –¢–ê–ô–ú–ï–† (–±—É–¥–µ—Ç –≤–∏–¥–µ–Ω —Ç–æ–ª—å–∫–æ –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤–∞—Ä–∏–∞–Ω—Ç–∞) -->
            <div id="timer-container" style="display: none;">
                <div class="timer" id="timer">
                    <span>‚è±Ô∏è</span>
                    <span id="timer-display">45:00</span>
                    <div class="timer-controls">
                        <button class="timer-btn" onclick="pauseTimer()" id="pause-btn">‚è∏Ô∏è</button>
                        <button class="timer-btn" onclick="resetTimer()" id="reset-btn">‚Ü∫</button>
                    </div>
                    <div class="time-settings" id="time-settings">
                        <select class="time-select" id="timer-select" onchange="changeTimerTime(this.value)">
                            <option value="45">45 –º–∏–Ω (–í–ü–†)</option>
                            <option value="60">60 –º–∏–Ω</option>
                            <option value="30">30 –º–∏–Ω</option>
                            <option value="0">–ë–µ–∑ —Ç–∞–π–º–µ—Ä–∞</option>
                        </select>
                    </div>
                </div>
            </div>
    
            <div class="nav-links">
                <span onclick="showPage('main')" id="nav-main">–ì–ª–∞–≤–Ω–∞—è</span>
                <span onclick="showPage('variants')" id="nav-variants">4 –∫–ª–∞—Å—Å (–í–ü–†)</span>
                <span onclick="showPage('grade2')" id="nav-grade2">2 –∫–ª–∞—Å—Å</span>
                <span onclick="showPage('trainer')" id="nav-trainer">–¢—Ä–µ–Ω–∞–∂–µ—Ä</span>
            </div>
        </div>

        <div id="main-page" style="display: block;">
            <div class="card" style="text-align: center; padding: 40px 20px;">
                <h1 style="font-size: 2.5em; margin-bottom: 20px; color: #3949ab;">
                    üìö –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ –í–ü–† 2025
                </h1>
                
                <p style="font-size: 1.3em; color: #666; margin-bottom: 40px;">
                    4 –∫–ª–∞—Å—Å ‚Ä¢ –ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞ ‚Ä¢ –†–µ–∞–ª—å–Ω—ã–µ –∑–∞–¥–∞–Ω–∏—è
                </p>
                
                <div style="max-width: 400px; margin: 0 auto;">
                    <button onclick="showPage('variants')" class="btn btn-primary" style="font-size: 1.5em; padding: 20px; width: 100%;">
                        ü¶â –ù–∞—á–∞—Ç—å –ø–æ–¥–≥–æ—Ç–æ–≤–∫—É
                    </button>
                </div>
                
                <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px; margin-top: 50px;">
                    <div>
                        <div style="font-size: 2.5em;">üìù</div>
                        <h3>4 –≤–∞—Ä–∏–∞–Ω—Ç–∞</h3>
                        <p style="color: #666;">–†–µ–∞–ª—å–Ω—ã–µ –∑–∞–¥–∞–Ω–∏—è –í–ü–†</p>
                    </div>
                    <div>
                        <div style="font-size: 2.5em;">‚úÖ</div>
                        <h3>–ü—Ä–æ–≤–µ—Ä–∫–∞</h3>
                        <p style="color: #666;">–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—Ü–µ–Ω–∫–∞</p>
                    </div>
                    <div>
                        <div style="font-size: 2.5em;">üìä</div>
                        <h3>–†–µ–∑—É–ª—å—Ç–∞—Ç</h3>
                        <p style="color: #666;">–°—Ä–∞–∑—É –≤–∏–¥–Ω–æ –æ—à–∏–±–∫–∏</p>
                    </div>
                </div>
            </div>
        </div>

        <div id="variants-page" style="display: none;">
            <div class="card">
                <div style="text-align: center; margin-bottom: 30px;">
                    <h1 style="color: #f57c00; font-size: 2.5em; margin-bottom: 10px;">ü¶â 4 –∫–ª–∞—Å—Å</h1>
                    <p style="color: #666; font-size: 1.2em;">–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ –í–ü–† –ø–æ –º–∞—Ç–µ–º–∞—Ç–∏–∫–µ</p>
                </div>
                
                <div class="variants-grid" id="variants-grid"></div>
            </div>
        </div>

        <div id="variant-info-page" style="display: none;">
            <div class="card" style="max-width: 700px; margin: 0 auto;" id="variant-info-card"></div>
        </div>

        <div id="task-page" style="display: none;">
            <div class="card" id="task-card"></div>
        </div>

        <div id="result-page" style="display: none;">
            <div class="card" id="result-card"></div>
        </div>
    </div>

    <script>
        // ============================================
        // –î–ê–ù–ù–´–ï –í–°–ï–• –í–ê–†–ò–ê–ù–¢–û–í (–ò–°–ü–†–ê–í–õ–ï–ù–ù–´–ï –ü–û PDF)
        // ============================================
        const variants = {
            "1": {
                "name": "–í–∞—Ä–∏–∞–Ω—Ç 1",
                "year": 2025,
                "description": "–¢—Ä–µ–Ω–∏—Ä–æ–≤–æ—á–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç –í–ü–† 2025",
                "image_files": {
                    "5": "variant1_5.png",
                    "10": "variant1_10.png"
                },
                "tasks": [
                    {
                        "id": 1,
                        "question": "–í—ã—á–∏—Å–ª–∏: 3 ¬∑ 17",
                        "answer": "51",
                        "type": "number",
                        "points": 1
                    },
                    {
                        "id": 2,
                        "question": "–í—ã—á–∏—Å–ª–∏: 21 + 9 : 3 - 18",
                        "answer": "6",
                        "type": "number",
                        "points": 1
                    },
                    {
                        "id": 3,
                        "question": "–§–µ–¥—è —Ö–æ—á–µ—Ç –ø–æ–æ–±–µ–¥–∞—Ç—å –≤ –∫–∞—Ñ–µ. –ú–µ–Ω—é: —Å–æ–ª—è–Ω–∫–∞ - 100 —Ä—É–±, –ø–∏—Ü—Ü–∞ - 230 —Ä—É–±, –∑–µ–ª—ë–Ω—ã–π —á–∞–π - 50 —Ä—É–±. –§–µ–¥—è –≤—ã–±—Ä–∞–ª —Å–æ–ª—è–Ω–∫—É, –ø–∏—Ü—Ü—É –∏ –∑–µ–ª—ë–Ω—ã–π —á–∞–π –∏ –æ—Ç–¥–∞–ª –ø—Ä–æ–¥–∞–≤—Ü—É 500 —Ä—É–±–ª–µ–π. –°–∫–æ–ª—å–∫–æ —Ä—É–±–ª–µ–π —Å–¥–∞—á–∏ –æ–Ω –¥–æ–ª–∂–µ–Ω –ø–æ–ª—É—á–∏—Ç—å?",
                        "answer": "120",
                        "type": "text",
                        "points": 2
                    },
                    {
                        "id": 4,
                        "question": "–ú–∞–º–∞ –∑–∞–∫–æ–Ω—á–∏–ª–∞ –≥–æ—Ç–æ–≤–∏—Ç—å —É–∂–∏–Ω –≤ 19 —á 20 –º–∏–Ω. –°–∫–æ–ª—å–∫–æ –≤—Ä–µ–º–µ–Ω–∏ —É –Ω–µ—ë –∑–∞–Ω—è–ª–æ –ø—Ä–∏–≥–æ—Ç–æ–≤–ª–µ–Ω–∏–µ —É–∂–∏–Ω–∞, –µ—Å–ª–∏ –æ–Ω–∞ –Ω–∞—á–∞–ª–∞ –≥–æ—Ç–æ–≤–∏—Ç—å –≤ 17 —á 40 –º–∏–Ω.?",
                        "answer": "1 —á 40 –º–∏–Ω",
                        "type": "text",
                        "points": 1,
                        "alternative_answers": ["1 —á–∞—Å 40 –º–∏–Ω—É—Ç", "100 –º–∏–Ω—É—Ç", "1:40"]
                    },
                    {
                        "id": 5,
                        "question": "–ù–∞ –∫–ª–µ—Ç—á–∞—Ç–æ–º –ø–æ–ª–µ —Å–æ —Å—Ç–æ—Ä–æ–Ω–æ–π –∫–ª–µ—Ç–∫–∏ 1 —Å–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∞ —Ñ–∏–≥—É—Ä–∞.",
                        "has_image": true,
                        "subtasks": [
                            {
                                "id": "5_1",
                                "question": "1) –ù–∞–π–¥–∏ –ø–µ—Ä–∏–º–µ—Ç—Ä —ç—Ç–æ–π —Ñ–∏–≥—É—Ä—ã.",
                                "answer": "18",
                                "type": "number",
                                "points": 1
                            },
                            {
                                "id": "5_2",
                                "question": "2) –ù–∞ –∫–ª–µ—Ç—á–∞—Ç–æ–º –ø–æ–ª–µ —Ä—è–¥–æ–º —Å —Ñ–∏–≥—É—Ä–æ–π –Ω–∞—Ä–∏—Å—É–π –ø—Ä—è–º–æ—É–≥–æ–ª—å–Ω–∏–∫, –ø–ª–æ—â–∞–¥—å –∫–æ—Ç–æ—Ä–æ–≥–æ —Ä–∞–≤–Ω–∞ –ø–ª–æ—â–∞–¥–∏ –¥–∞–Ω–Ω–æ–π —Ñ–∏–≥—É—Ä—ã.",
                                "type": "draw",
                                "points": 1
                            }
                        ]
                    },
                    {
                        "id": 6,
                        "question": "–í –∫–æ–º–ø–∞–Ω–∏–∏ \"–ö–ª–∞—Å—Å–Ω—ã–π —Ä–µ–º–æ–Ω—Ç\" —Ä–∞–±–æ—Ç–∞—é—Ç 4 –º–∞—Å—Ç–µ—Ä–∞. –í —Ç–∞–±–ª–∏—Ü–µ –ø–æ–∫–∞–∑–∞–Ω–æ, —Å–∫–æ–ª—å–∫–æ –ø—Ä–∏–±–æ—Ä–æ–≤ –ø–æ—á–∏–Ω–∏–ª–∏ –º–∞—Å—Ç–µ—Ä–∞.",
                        "table": {
                            "headers": ["–ú–∞—Å—Ç–µ—Ä", "–•–æ–ª–æ–¥–∏–ª—å–Ω–∏–∫–∏", "–°—Ç–∏—Ä–∞–ª—å–Ω—ã–µ –º–∞—à–∏–Ω—ã", "–≠–ª–µ–∫—Ç—Ä–∏—á–µ—Å–∫–∏–µ –ø–ª–∏—Ç—ã"],
                            "rows": [
                                ["–ë–æ—á–∫–∏–Ω", "7", "8", "4"],
                                ["–í–æ–ª–æ–¥–∏–Ω", "3", "5", "14"],
                                ["–°–∞–≤—Ä–∞—Å–æ–≤", "9", "0", "9"],
                                ["–®—É–ª—å–≥–∏–Ω", "4", "3", "10"]
                            ]
                        },
                        "subtasks": [
                            {
                                "id": "6_1",
                                "question": "1) –°–∫–æ–ª—å–∫–æ —Å—Ç–∏—Ä–∞–ª—å–Ω—ã—Ö –º–∞—à–∏–Ω –ø–æ—á–∏–Ω–∏–ª –º–∞—Å—Ç–µ—Ä –í–æ–ª–æ–¥–∏–Ω?",
                                "answer": "5",
                                "type": "number",
                                "points": 1
                            },
                            {
                                "id": "6_2",
                                "question": "2) –ö—Ç–æ –∏–∑ –º–∞—Å—Ç–µ—Ä–æ–≤ –ø–æ—á–∏–Ω–∏–ª –º–µ–Ω—å—à–µ –≤—Å–µ–≥–æ –±—ã—Ç–æ–≤–æ–π —Ç–µ—Ö–Ω–∏–∫–∏?",
                                "answer": "–®—É–ª—å–≥–∏–Ω",
                                "type": "text",
                                "points": 1
                            }
                        ]
                    },
                    {
                        "id": 7,
                        "question": "–ù–∞–π–¥–∏ –∑–Ω–∞—á–µ–Ω–∏–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è (357 + 209) ¬∑ 12 + 74",
                        "answer": "6866",
                        "type": "number",
                        "points": 1
                    },
                    {
                        "id": 8,
                        "question": "–í —Å–ø–æ—Ä—Ç–∏–≤–Ω—ã–π –º–∞–≥–∞–∑–∏–Ω –ø—Ä–∏–≤–µ–∑–ª–∏ —á–µ—Ç—ã—Ä–µ –≤–æ–ª–µ–π–±–æ–ª—å–Ω—ã—Ö –∏ —Å–µ–º—å —Ñ—É—Ç–±–æ–ª—å–Ω—ã—Ö –º—è—á–µ–π. –û–±—â–∏–π –≤–µ—Å –≤—Å–µ—Ö –ø—Ä–∏–≤–µ–∑—ë–Ω–Ω—ã—Ö –º—è—á–µ–π —Å–æ—Å—Ç–∞–≤–∏–ª 4 –∫–≥. –ü—Ä–∏ —ç—Ç–æ–º —Ñ—É—Ç–±–æ–ª—å–Ω—ã–π –º—è—á –≤–µ—Å–∏—Ç 400 –≥. –°–∫–æ–ª—å–∫–æ –≥—Ä–∞–º–º–æ–≤ –≤–µ—Å–∏—Ç –≤–æ–ª–µ–π–±–æ–ª—å–Ω—ã–π –º—è—á?",
                        "answer": "300",
                        "type": "text",
                        "points": 2
                    },
                    {
                        "id": 9,
                        "question": "–í –∫–æ–Ω—Ü–µ —É—á–µ–±–Ω–æ–≥–æ –≥–æ–¥–∞ –õ–µ–Ω–∞ —Å–¥–∞–≤–∞–ª–∞ —ç–∫–∑–∞–º–µ–Ω—ã –ø–æ –∏—Å—Ç–æ—Ä–∏–∏, –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä–µ, –∞–Ω–≥–ª–∏–π—Å–∫–æ–º—É –∏ —Ä—É—Å—Å–∫–æ–º—É —è–∑—ã–∫–∞–º. –≠–∫–∑–∞–º–µ–Ω –ø–æ —Ä—É—Å—Å–∫–æ–º—É —è–∑—ã–∫—É –±—ã–ª –≤—Ç–æ—Ä—ã–º –ø–æ —Å—á—ë—Ç—É, –∞ –ø–æ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º—É —è–∑—ã–∫—É ‚Äî –ø–æ—Å–ª–µ–¥–Ω–∏–º. –ì–æ—Ç–æ–≤–∏—Ç—å—Å—è –∫ —ç–∫–∑–∞–º–µ–Ω—É –ø–æ –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä–µ –õ–µ–Ω–∞ –Ω–∞—á–∞–ª–∞ –Ω–∞ —Å–ª–µ–¥—É—é—â–∏–π –¥–µ–Ω—å –ø–æ—Å–ª–µ —Ç–æ–≥–æ, –∫–∞–∫ —É—Å–ø–µ—à–Ω–æ —Å–¥–∞–ª–∞ –∏—Å—Ç–æ—Ä–∏—é.",
                        "subtasks": [
                            {
                                "id": "9_1",
                                "question": "1) –ö–∞–∫–æ–π —ç–∫–∑–∞–º–µ–Ω –±—ã–ª —É –õ–µ–Ω—ã –ø–µ—Ä–≤—ã–º?",
                                "answer": "–∏—Å—Ç–æ—Ä–∏—è",
                                "type": "text",
                                "points": 1
                            },
                            {
                                "id": "9_2",
                                "question": "2) –ö–∞–∫–æ–π —ç–∫–∑–∞–º–µ–Ω –õ–µ–Ω–∞ —Å–¥–∞–≤–∞–ª–∞ —Å—Ä–∞–∑—É –ø–µ—Ä–µ–¥ —ç–∫–∑–∞–º–µ–Ω–æ–º –ø–æ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º—É —è–∑—ã–∫—É?",
                                "answer": "–ª–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞",
                                "type": "text",
                                "points": 1
                            }
                        ]
                    },
                    {
                        "id": 10,
                        "question": "–í–æ–¥–∏—Ç–µ–ª—å –≤–∏–¥–∏—Ç –≤ –∑–µ—Ä–∫–∞–ª–µ –∑–∞–¥–Ω–µ–≥–æ –≤–∏–¥–∞ –∞–≤—Ç–æ–º–æ–±–∏–ª—å, –∏–¥—É—â–∏–π —Å–∑–∞–¥–∏. –ù–æ–º–µ—Ä –∞–≤—Ç–æ–º–æ–±–∏–ª—è —Ç–æ–∂–µ –æ—Ç—Ä–∞–∂–∞–µ—Ç—Å—è –≤ –∑–µ—Ä–∫–∞–ª–µ. –ö–∞–∫–æ–π –Ω–æ–º–µ—Ä —É —ç—Ç–æ–≥–æ –∞–≤—Ç–æ–º–æ–±–∏–ª—è, –µ—Å–ª–∏ —Å–º–æ—Ç—Ä–µ—Ç—å –Ω–∞ –Ω–µ–≥–æ –Ω–µ –≤ –∑–µ—Ä–∫–∞–ª–æ?",
                        "has_image": true,
                        "answer": "–ö736–°–í",
                        "type": "text",
                        "points": 2,
                        "alternative_answers": ["–ö736–°–í16", "K736CB", "–ö736–°–í 16"]
                    },
                    {
                        "id": 11,
                        "question": "–í —Ñ—É—Ç–±–æ–ª—å–Ω–æ–º —Ç—É—Ä–Ω–∏—Ä–µ —É—á–∞—Å—Ç–≤—É—é—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫–æ–º–∞–Ω–¥. –ö–∞–∂–¥–∞—è –∫–æ–º–∞–Ω–¥–∞ —Å—ã–≥—Ä–∞–ª–∞ —Å –∫–∞–∂–¥–æ–π –ø–æ –æ–¥–Ω–æ–º—É –º–∞—Ç—á—É. –ó–∞ –ø–æ–±–µ–¥—É –¥–∞—ë—Ç—Å—è 3 –æ—á–∫–∞, –∑–∞ –Ω–∏—á—å—é ‚Äî 1 –æ—á–∫–æ, –∑–∞ –ø–æ—Ä–∞–∂–µ–Ω–∏–µ ‚Äî 0 –æ—á–∫–æ–≤. –í—Å–µ–≥–æ –≤ —Ç—É—Ä–Ω–∏—Ä–µ –±—ã–ª–æ —Å—ã–≥—Ä–∞–Ω–æ 6 –º–∞—Ç—á–µ–π, –∏ —Å—É–º–º–∞ –æ—á–∫–æ–≤ –≤—Å–µ—Ö –∫–æ–º–∞–Ω–¥ —Å–æ—Å—Ç–∞–≤–∏–ª–∞ 16. –°–∫–æ–ª—å–∫–æ –±—ã–ª–æ –Ω–∏—á—å–∏—Ö?",
                        "answer": "2",
                        "type": "text",
                        "points": 2
                    }
                ]
            },
            "2": {
                "name": "–í–∞—Ä–∏–∞–Ω—Ç 2",
                "year": 2025,
                "description": "–¢—Ä–µ–Ω–∏—Ä–æ–≤–æ—á–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç –í–ü–† 2025",
                "image_files": {
                    "3": "variant2_3.png",
                    "5": "variant2_5.png",      // –û–¥–Ω–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–ª—è –≤—Å–µ–≥–æ –∑–∞–¥–∞–Ω–∏—è 5
                    "13": "variant2_13.png"
                },
                "tasks": [
                    {
                        "id": 1,
                        "question": "–í—ã—á–∏—Å–ª–∏: 16 ¬∑ 5",
                        "answer": "80",
                        "type": "number",
                        "points": 1
                    },
                    {
                        "id": 2,
                        "question": "–í—ã—á–∏—Å–ª–∏: (22 + 9) ¬∑ 2 + 8",
                        "answer": "70",
                        "type": "number",
                        "points": 1
                    },
                    {
                        "id": 3,
                        "question": "–°–∫–æ–ª—å–∫–æ —Ä—É–±–ª–µ–π —Å–¥–∞—á–∏ –ø–æ–ª—É—á–∏—Ç –ø–æ–∫—É–ø–∞—Ç–µ–ª—å, —Ä–∞—Å–ø–ª–∞—Ç–∏–≤—à–∏–π—Å—è –∑–∞ –æ–¥–Ω—É –±—É—Ç—ã–ª–∫—É –Ω–µ–∫—Ç–∞—Ä–∞ –∏ –æ–¥–Ω—É –±—É—Ç—ã–ª–∫—É –ª–∏–º–æ–Ω–∞–¥–∞ –∫—É–ø—é—Ä–æ–π –≤ 100 —Ä—É–±.?",
                        "has_image": true,
                        "answer": "25",
                        "type": "text",
                        "points": 2
                    },
                    {
                        "id": 4,
                        "question": "–ú–∞—à–∞ —Å —Ä–æ–¥–∏—Ç–µ–ª—è–º–∏ –≤—ã—à–ª–∞ –∏–∑ –¥–æ–º–∞ –≤ 12 —á–∞—Å–æ–≤ 50 –º–∏–Ω—É—Ç, –∞ –¥–æ–º–æ–π –æ–Ω–∏ –≤–µ—Ä–Ω—É–ª–∏—Å—å –≤ 14 —á–∞—Å–æ–≤ 25 –º–∏–Ω—É—Ç. –°–∫–æ–ª—å–∫–æ –≤—Ä–µ–º–µ–Ω–∏ –ø—Ä–æ–¥–æ–ª–∂–∞–ª–∞—Å—å –ø—Ä–æ–≥—É–ª–∫–∞?",
                        "answer": "1 —á 35 –º–∏–Ω",
                        "type": "text",
                        "points": 1,
                        "alternative_answers": ["1 —á–∞—Å 35 –º–∏–Ω—É—Ç", "95 –º–∏–Ω—É—Ç", "1:35"]
                    },
                    {
                        "id": 5,
                        "question": "–ù–∞ –∫–ª–µ—Ç—á–∞—Ç–æ–º –ø–æ–ª–µ —Å–æ —Å—Ç–æ—Ä–æ–Ω–æ–π –∫–ª–µ—Ç–∫–∏ 1 —Å–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∞ —Ñ–∏–≥—É—Ä–∞.",
                        "has_image": true,
                        "subtasks": [
                            {
                                 "id": "5_1",
                                 "question": "1) –ù–∞–π–¥–∏ –ø–µ—Ä–∏–º–µ—Ç—Ä —ç—Ç–æ–π —Ñ–∏–≥—É—Ä—ã.",
                                 "answer": "20",
                                 "type": "number",
                                 "points": 1
                            },
                            {
                                 "id": "5_2",
                                 "question": "2) –ù–∞ –∫–ª–µ—Ç—á–∞—Ç–æ–º –ø–æ–ª–µ —Ä—è–¥–æ–º —Å —Ñ–∏–≥—É—Ä–æ–π –Ω–∞—Ä–∏—Å—É–π –∫–≤–∞–¥—Ä–∞—Ç, –ø–µ—Ä–∏–º–µ—Ç—Ä –∫–æ—Ç–æ—Ä–æ–≥–æ —Ä–∞–≤–µ–Ω –ø–µ—Ä–∏–º–µ—Ç—Ä—É –¥–∞–Ω–Ω–æ–π —Ñ–∏–≥—É—Ä—ã.",
                                 "type": "draw",
                                 "points": 1
                            }
                        ]
                    },
                    { 
                        "id": 7,
                        "question": "–°–∫–æ–ª—å–∫–æ –±–µ—Ä—ë–∑ —Ä–∞—Å—Ç—ë—Ç –≤ —é–∂–Ω–æ–π —á–∞—Å—Ç–∏ –ø–∞—Ä–∫–∞?",
                        "table": {
                            "headers": ["–ß–∞—Å—Ç–∏ –ø–∞—Ä–∫–∞", "–ë–µ—Ä—ë–∑—ã", "–õ–∏–ø—ã", "–¢–æ–ø–æ–ª—è"],
                            "rows": [
                                ["–°–µ–≤–µ—Ä–Ω–∞—è", "8", "3", "9"],
                                ["–Æ–∂–Ω–∞—è", "2", "5", "12"],
                                ["–í–æ—Å—Ç–æ—á–Ω–∞—è", "10", "6", "8"],
                                ["–ó–∞–ø–∞–¥–Ω–∞—è", "5", "4", "6"]
                            ]
                        },
                        "answer": "2",
                        "type": "number",
                        "points": 1
                    },
                    {       
                        "id": 8,
                        "question": "–ö–∞–∫–∏—Ö –∏–∑ –ø–æ—Å—á–∏—Ç–∞–Ω–Ω—ã—Ö –ê—Ä—Ç—ë–º–æ–º –¥–µ—Ä–µ–≤—å–µ–≤ –≤ –ø–∞—Ä–∫–µ –º–µ–Ω—å—à–µ –≤—Å–µ–≥–æ?",
                        "answer": "–ª–∏–ø—ã",
                        "type": "text",
                        "points": 1
                    },
                    {
                        "id": 9,
                        "question": "–ù–∞–π–¥–∏ –∑–Ω–∞—á–µ–Ω–∏–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è (1298 ‚Äì 626) : (905 ‚Äì 889)",
                        "answer": "42",
                        "type": "number",
                        "points": 1
                    },
                    {
                        "id": 10,
                        "question": "–ü—è—Ç—å –∫–∏–ª–æ–≥—Ä–∞–º–º–æ–≤ –≤–∞—Ä–µ–Ω—å—è —Ä–∞–∑–ª–æ–∂–∏–ª–∏ –ø–æ –º–∞–ª–µ–Ω—å–∫–∏–º –∏ –±–æ–ª—å—à–∏–º –±–∞–Ω–∫–∞–º. –í –∫–∞–∂–¥—É—é –±–æ–ª—å—à—É—é –±–∞–Ω–∫—É –ø–æ–º–µ—â–∞–µ—Ç—Å—è 500 –≥ –≤–∞—Ä–µ–Ω—å—è, –∞ –≤ –º–∞–ª–µ–Ω—å–∫—É—é ‚Äî 200 –≥. –ü–æ–ª—É—á–∏–ª–æ—Å—å 4 –±–æ–ª—å—à–∏–µ –±–∞–Ω–∫–∏ –≤–∞—Ä–µ–Ω—å—è. –°–∫–æ–ª—å–∫–æ –ø–æ–Ω–∞–¥–æ–±–∏–ª–æ—Å—å –º–∞–ª–µ–Ω—å–∫–∏—Ö –±–∞–Ω–æ–∫?",
                        "answer": "15",
                        "type": "text",
                        "points": 2
                    },
                    {
                        "id": 11,
                        "question": "–ö—Å—é—à–∞ —Å–æ–±–∏—Ä–∞–ª–∞ –ø–∞–∑–ª—ã. –ü–µ—Ä–≤—ã–π –ø–∞–∑–ª —Å–æ—Å—Ç–æ—è–ª –∏–∑ 400 –¥–µ—Ç–∞–ª–µ–π, –∞ –≤ –∫–∞–∂–¥–æ–º —Å–ª–µ–¥—É—é—â–µ–º –±—ã–ª–æ –Ω–∞ 100 –¥–µ—Ç–∞–ª–µ–π –±–æ–ª—å—à–µ, —á–µ–º –≤ –ø—Ä–µ–¥—ã–¥—É—â–µ–º. –í—Å–µ–≥–æ –ö—Å—é—à–∞ —Å–æ–±—Ä–∞–ª–∞ —à–µ—Å—Ç—å –ø–∞–∑–ª–æ–≤.",
                        "subtasks": [
                            {
                                 "id": "11_1",
                                 "question": "1) –°–∫–æ–ª—å–∫–æ –¥–µ—Ç–∞–ª–µ–π –±—ã–ª–æ –≤ –ø—è—Ç–æ–º –ø–∞–∑–ª–µ?",
                                 "answer": "800",
                                 "type": "number",
                                 "points": 1
                            },
                            {
                                 "id": "11_2",
                                 "question": "2) –°–∫–æ–ª—å–∫–æ –≤—Å–µ–≥–æ –¥–µ—Ç–∞–ª–µ–π —É—Å—Ç–∞–Ω–æ–≤–∏–ª–∞ –ö—Å—é—à–∞?",
                                 "answer": "3900",
                                 "type": "number",
                                 "points": 1
                            }
                        ]
                    },
                    {
                        "id": 13,
                        "question": "–í–æ–¥–∏—Ç–µ–ª—å –≤–∏–¥–∏—Ç –≤ –∑–µ—Ä–∫–∞–ª–µ –∑–∞–¥–Ω–µ–≥–æ –≤–∏–¥–∞ –∞–≤—Ç–æ–º–æ–±–∏–ª—å, –∏–¥—É—â–∏–π —Å–∑–∞–¥–∏. –ù–æ–º–µ—Ä –∞–≤—Ç–æ–º–æ–±–∏–ª—è —Ç–æ–∂–µ –æ—Ç—Ä–∞–∂–∞–µ—Ç—Å—è –≤ –∑–µ—Ä–∫–∞–ª–µ. –ó–∞–ø–∏—à–∏ –Ω–æ–º–µ—Ä –∞–≤—Ç–æ–º–æ–±–∏–ª—è, –µ—Å–ª–∏ —Å–º–æ—Ç—Ä–µ—Ç—å –Ω–∞ –Ω–µ–≥–æ –Ω–µ –≤ –∑–µ—Ä–∫–∞–ª–æ.",
                        "has_image": true,
                        "answer": "–ú359–°–†",
                        "type": "text",
                        "points": 2,
                        "alternative_answers": ["–ú359–°–†16", "M359CP", "–ú359–°–† 16"]
                    },
                    {
                        "id": 14,
                        "question": "–ú–∞–∫—Å–∏–º —Ö–æ—á–µ—Ç –∫—É–ø–∏—Ç—å –º–∞—à–∏–Ω–∫–∏ (–≤—Å–µ –æ–Ω–∏ —Å—Ç–æ—è—Ç –æ–¥–∏–Ω–∞–∫–æ–≤–æ). –ï—Å–ª–∏ –æ–Ω –∫—É–ø–∏—Ç –ø—è—Ç—å –º–∞—à–∏–Ω–æ–∫, —Ç–æ —É –Ω–µ–≥–æ –æ—Å—Ç–∞–Ω–µ—Ç—Å—è 50 —Ä—É–±., –∞ –¥–æ –ø–æ–∫—É–ø–∫–∏ —Å–µ–º–∏ –º–∞—à–∏–Ω–æ–∫ –µ–º—É –Ω–µ —Ö–≤–∞—Ç–∞–µ—Ç 10 —Ä—É–±. –°–∫–æ–ª—å–∫–æ —Ä—É–±–ª–µ–π —Å—Ç–æ–∏—Ç –æ–¥–Ω–∞ –º–∞—à–∏–Ω–∫–∞?",
                        "answer": "30",
                        "type": "text",
                        "points": 2
                    }
                ]
            },
            "3": {
                "name": "–í–∞—Ä–∏–∞–Ω—Ç 3",
                "year": 2025,
                "description": "–¢—Ä–µ–Ω–∏—Ä–æ–≤–æ—á–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç –í–ü–† 2025",
                "image_files": {
                    "3": "variant3_3.png",
                    "4": "variant3_4.png",
                    "5": "variant3_5.png",      // –û–¥–Ω–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–ª—è –≤—Å–µ–≥–æ –∑–∞–¥–∞–Ω–∏—è 5
                    "13": "variant3_13.png"
                },
                "tasks": [
                    {
                        "id": 1,
                        "question": "–ù–∞–π–¥–∏—Ç–µ –∑–Ω–∞—á–µ–Ω–∏–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è 45 ¬∑ 4",
                        "answer": "180",
                        "type": "number",
                        "points": 1
                    },
                    {
                        "id": 2,
                        "question": "–í—ã—á–∏—Å–ª–∏: 6 ¬∑ 12 + 12 : 4",
                        "answer": "75",
                        "type": "number",
                        "points": 1
                    },
                    {
                        "id": 3,
                        "question": "–í –º–∞–≥–∞–∑–∏–Ω–µ –ø—Ä–æ–¥–∞—é—Ç—Å—è –æ–≤–æ—â–∏. –ü–æ–∫—É–ø–∞—Ç–µ–ª—å –≤–∑—è–ª –¥–≤–∞ –∫–∏–ª–æ–≥—Ä–∞–º–º–∞ –∫–∞–ø—É—Å—Ç—ã. –°–∫–æ–ª—å–∫–æ —Ä—É–±–ª–µ–π —Å–¥–∞—á–∏ –ø–æ–ª—É—á–∏—Ç –ø–æ–∫—É–ø–∞—Ç–µ–ª—å —Å 500 —Ä—É–±–ª–µ–π?",
                        "has_image": true,
                        "answer": "448",
                        "type": "text",
                        "points": 2
                    },
                    {
                        "id": 4,
                        "question": "–ù–∞ —Ä–∏—Å—É–Ω–∫–µ –ø–æ–∫–∞–∑–∞–Ω –∫–∞–ª–µ–Ω–¥–∞—Ä—å –Ω–∞ –æ–∫—Ç—è–±—Ä—å 2014 –≥–æ–¥–∞. –ö–∞–∫–∏–º –¥–Ω—ë–º –Ω–µ–¥–µ–ª–∏ –≤ 2014 –≥–æ–¥—É –±—ã–ª–æ 5 –Ω–æ—è–±—Ä—è?",
                        "has_image": true,
                        "answer": "—Å—Ä–µ–¥–∞",
                        "type": "text",
                        "points": 1,
                        "alternative_answers": ["–°—Ä–µ–¥–∞"]
                    },
                    {
                        "id": 5,
                        "question": "–ù–∞ –∫–ª–µ—Ç—á–∞—Ç–æ–º –ø–æ–ª–µ —Å–æ —Å—Ç–æ—Ä–æ–Ω–æ–π –∫–≤–∞–¥—Ä–∞—Ç–Ω–æ–π –∫–ª–µ—Ç–∫–∏ 1 —Å–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∞ —Ñ–∏–≥—É—Ä–∞.",
                        "has_image": true,
                        "subtasks": [
                            {
                                 "id": "5_1",
                                 "question": "1) –ù–∞–π–¥–∏ –ø–µ—Ä–∏–º–µ—Ç—Ä —ç—Ç–æ–π —Ñ–∏–≥—É—Ä—ã.",
                                 "answer": "22",
                                 "type": "number",
                                 "points": 1
                            },
                            {
                                 "id": "5_2",
                                 "question": "2) –ò–∑–æ–±—Ä–∞–∑–∏—Ç–µ –Ω–∞ —Ä–∏—Å—É–Ω–∫–µ –ø–æ –∫–ª–µ—Ç–∫–∞–º –ø—Ä—è–º–æ—É–≥–æ–ª—å–Ω–∏–∫ –ø–ª–æ—â–∞–¥—å—é 36 –∫–≤. —Å–º —Ç–∞–∫, —á—Ç–æ–±—ã –¥–∞–Ω–Ω–∞—è —Ñ–∏–≥—É—Ä–∞ —Ü–µ–ª–∏–∫–æ–º –ø–æ–º–µ—Å—Ç–∏–ª–∞—Å—å –≤ —ç—Ç–æ–º –ø—Ä—è–º–æ—É–≥–æ–ª—å–Ω–∏–∫–µ.",
                                 "type": "draw",
                                 "points": 1
                            }
                        ]
                    },
                    {
                        "id": 7,
                        "question": "–°–∫–æ–ª—å–∫–æ —Å–∞–ª—Ñ–µ—Ç–æ–∫ —Å–≤—è–∑–∞–ª–∞ –î–∞—Ä—å—è?",
                        "table": {
                        "headers": ["–ú–∞—Å—Ç–µ—Ä–∏—Ü–∞", "–í–æ—Ä–æ—Ç–Ω–∏–∫", "–°–∞–ª—Ñ–µ—Ç–∫–∞", "–°–∫–∞—Ç–µ—Ä—Ç—å"],
                        "rows": [
                                ["–í–∞—Å–∏–ª–∏—Å–∞", "4", "8", "2"],
                                ["–î–∞—Ä—å—è", "1", "8", "6"],
                                ["–ó–∞–±–∞–≤–∞", "8", "12", "6"],
                                ["–ú–∞—Ä—Ñ–∞", "6", "14", "1"]
                            ] 
                        },
                        "answer": "8",
                        "type": "number",
                        "points": 1
                    },
                    {
                        "id": 8,
                        "question": "–ö—Ç–æ –∏–∑ –º–∞—Å—Ç–µ—Ä–∏—Ü —Å–≤—è–∑–∞–ª –±–æ–ª—å—à–µ –≤—Å–µ–≥–æ –∏–∑–¥–µ–ª–∏–π?",
                        "answer": "–ó–∞–±–∞–≤–∞",
                        "type": "text",
                        "points": 1
                    },
                    {
                        "id": 9,
                        "question": "–ù–∞–π–¥–∏ –∑–Ω–∞—á–µ–Ω–∏–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è 1400 : 5 + 435 : 3",
                        "answer": "425",
                        "type": "number",
                        "points": 1
                    },
                    {
                        "id": 10,
                        "question": "–î–∞—à–∞ –ø–æ–ª—É—á–∏–ª–∞ –Ω–∞ –¥–µ–Ω—å —Ä–æ–∂–¥–µ–Ω–∏—è –ø–æ—Å—ã–ª–∫—É, –≤–µ—Å –∫–æ—Ç–æ—Ä–æ–π –±—ã–ª —Ä–∞–≤–µ–Ω 3 –∫–≥. –í –ø–æ—Å—ã–ª–∫–µ –±—ã–ª–æ —Ç—Ä–∏ –∫—É–∫–ª—ã –æ–¥–∏–Ω–∞–∫–æ–≤–æ–≥–æ –≤–µ—Å–∞, –∞ —Ç–∞–∫–∂–µ —à–µ—Å—Ç—å –∫–æ—Ä–æ–±–æ–∫ –∫–æ–Ω—Ñ–µ—Ç, –∫–∞–∂–¥–∞—è –∏–∑ –∫–æ—Ç–æ—Ä—ã—Ö –≤–µ—Å–∏–ª–∞ 300 –≥. –°–∫–æ–ª—å–∫–æ –≤–µ—Å–∏–ª–∞ –æ–¥–Ω–∞ –∫—É–∫–ª–∞?",
                        "answer": "400",
                        "type": "text",
                        "points": 2
                    },
                    {
                        "id": 11,
                        "question": "–ù–∞ —É—Ä–æ–∫–µ —Ñ–∏–∑–∫—É–ª—å—Ç—É—Ä—ã 27 —É—á–µ–Ω–∏–∫–æ–≤ –≤—ã—Å—Ç—Ä–æ–∏–ª–∏—Å—å –≤ —Ä—è–¥, –ø–æ—Å–ª–µ —á–µ–≥–æ —É—á–∏—Ç–µ–ª—å –ø–æ–ø—Ä–æ—Å–∏–ª —Ä–∞—Å—Å—á–∏—Ç–∞—Ç—å—Å—è –Ω–∞ –ø–µ—Ä–≤—ã–π-–≤—Ç–æ—Ä–æ–π-—Ç—Ä–µ—Ç–∏–π-—á–µ—Ç–≤—ë—Ä—Ç—ã–π.",
                        "subtasks": [
                            {
                                 "id": "11_1",
                                 "question": "1) –ß—Ç–æ —Å–∫–∞–∑–∞–ª —É—á–µ–Ω–∏–∫, —Å—Ç–æ—è—â–∏–π –¥–µ–≤—è—Ç–Ω–∞–¥—Ü–∞—Ç—ã–º?",
                                 "answer": "–¢—Ä–µ—Ç–∏–π",
                                 "type": "text",
                                 "points": 1
                            },
                            {
                                 "id": "11_2",
                                 "question": "2) –°–∫–æ–ª—å–∫–æ —É—á–µ–Ω–∏–∫–æ–≤ —Å–∫–∞–∑–∞–ª–∏ ¬´–ß–µ—Ç–≤—ë—Ä—Ç—ã–π¬ª?",
                                 "answer": "6",
                                 "type": "number",
                                 "points": 1
                            }
                        ]
                    },
                    {
                        "id": 13,
                        "question": "–ù–∞ —Ä–∏—Å—É–Ω–∫–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∞ –ª–æ–¥–∫–∞ –∏ –µ—ë –æ—Ç—Ä–∞–∂–µ–Ω–∏–µ –≤ –≤–æ–¥–µ. –ù–∞–ø–∏—à–∏ –Ω–∞–∑–≤–∞–Ω–∏–µ –ª–æ–¥–∫–∏ –Ω–∞ –æ—Ç—Ä–∞–∂–µ–Ω–∏–∏ –≤ –≤–æ–¥–µ.",
                        "has_image": true,
                        "answer": "–í–µ—Ç–µ—Ä",
                        "type": "text",
                        "points": 2,
                        "alternative_answers": ["–í–ï–¢–ï–†"]
                    },
                    {
                        "id": 14,
                        "question": "–°–≤–µ—Ç–∞, –¢–∞–Ω—è –∏ –ö–∞—Ç—è —Å–æ–±–∏—Ä–∞–ª–∏ –≥—Ä–∏–±—ã. –¢–∞–Ω—è —Å–æ–±—Ä–∞–ª–∞ –±–æ–ª—å—à–µ –≤—Å–µ—Ö ‚Äî 39 –≥—Ä–∏–±–æ–≤, –∞ –ö–∞—Ç—è –º–µ–Ω—å—à–µ –≤—Å–µ—Ö ‚Äî 35 –≥—Ä–∏–±–æ–≤. –û–Ω–∏ —Ä–µ—à–∏–ª–∏ —Ä–∞–∑–ª–æ–∂–∏—Ç—å –≤—Å–µ –≥—Ä–∏–±—ã –º–µ–∂–¥—É —Å–æ–±–æ–π –ø–æ—Ä–æ–≤–Ω—É, –∏ —É –Ω–∏—Ö —ç—Ç–æ –ø–æ–ª—É—á–∏–ª–æ—Å—å. –°–∫–æ–ª—å–∫–æ –≥—Ä–∏–±–æ–≤ –Ω–∞—à–ª–∞ –°–≤–µ—Ç–∞?",
                        "answer": "37",
                        "type": "number",
                        "points": 2
                    }
                ]
            },
            "4": {
                "name": "–í–∞—Ä–∏–∞–Ω—Ç 4",
                "year": 2025,
                "description": "–¢—Ä–µ–Ω–∏—Ä–æ–≤–æ—á–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç –í–ü–† 2025",
                "image_files": {
                    "3": "variant4_3.png",
                    "5": "variant4_5.png",      // –û–¥–Ω–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–ª—è –≤—Å–µ–≥–æ –∑–∞–¥–∞–Ω–∏—è 5
                    "13": "variant4_13.png"
                },
                "tasks": [
                    {
                        "id": 1,
                        "question": "–ù–∞–π–¥–∏—Ç–µ –∑–Ω–∞—á–µ–Ω–∏–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è 53 + 28",
                        "answer": "81",
                        "type": "number",
                        "points": 1
                    },
                    {
                        "id": 2,
                        "question": "–ù–∞–π–¥–∏ –∑–Ω–∞—á–µ–Ω–∏–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è 6 ¬∑ (14 ‚àí 5) ‚àí 33",
                        "answer": "21",
                        "type": "number",
                        "points": 1
                    },
                    {
                        "id": 3,
                        "question": "–ù–∞ —Å–∞–¥–æ–≤–æ–º —Ä—ã–Ω–∫–µ –ø—Ä–æ–¥–∞—é—Ç—Å—è —Å–∞–∂–µ–Ω—Ü—ã –¥–µ—Ä–µ–≤—å–µ–≤ –∏ –∫—É—Å—Ç–∞—Ä–Ω–∏–∫–æ–≤. –°–∫–æ–ª—å–∫–æ –≤—Å–µ–≥–æ —Ä—É–±–ª–µ–π –Ω–∞–¥–æ –∑–∞–ø–ª–∞—Ç–∏—Ç—å –∑–∞ —Ç—Ä–∏ –≤–∏—à–Ω–∏ –∏ –æ–¥–Ω—É —Å–ª–∏–≤—É?",
                        "has_image": true,
                        "answer": "1680",
                        "type": "text",
                        "points": 2
                    },
                    {
                        "id": 4,
                        "question": "–ö–∞–∂–¥–∞—è —Å–µ—Ä–∏—è –º—É–ª—å—Ç—Ñ–∏–ª—å–º–∞ –¥–ª–∏—Ç—Å—è –æ–¥–Ω–æ –∏ —Ç–æ –∂–µ —á–∏—Å–ª–æ –º–∏–Ω—É—Ç. –ú–∞–ª—å—á–∏–∫ –ø–æ—Å–º–æ—Ç—Ä–µ–ª —Ç—Ä–∏ —Å–µ—Ä–∏–∏ –º—É–ª—å—Ç—Ñ–∏–ª—å–º–∞ –±–µ–∑ –ø–µ—Ä–µ—Ä—ã–≤–∞. –ú—É–ª—å—Ç—Ñ–∏–ª—å–º –Ω–∞—á–∞–ª—Å—è –≤ 16 —á 35 –º–∏–Ω –∏ –∑–∞–∫–æ–Ω—á–∏–ª—Å—è –≤ 17 —á 05 –º–∏–Ω. –°–∫–æ–ª—å–∫–æ –º–∏–Ω—É—Ç –¥–ª–∏—Ç—Å—è –∫–∞–∂–¥–∞—è —Å–µ—Ä–∏—è?",
                        "answer": "10",
                        "type": "number",
                        "points": 1
                    },
                    {
                        "id": 5,
                        "question": "–ù–∞ –∫–ª–µ—Ç—á–∞—Ç–æ–º –ø–æ–ª–µ —Å–æ —Å—Ç–æ—Ä–æ–Ω–æ–π –∫–ª–µ—Ç–∫–∏ 1 —Å–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∞ —Ñ–∏–≥—É—Ä–∞.",
                        "has_image": true,
                        "subtasks": [
                            {
                                 "id": "5_1",
                                 "question": "1) –ù–∞–π–¥–∏ –ø–µ—Ä–∏–º–µ—Ç—Ä —ç—Ç–æ–π —Ñ–∏–≥—É—Ä—ã.",
                                 "answer": "16",
                                 "type": "number",
                                 "points": 1
                            },
                            {
                                 "id": "5_2",
                                 "question": "2) –ù–∞ –∫–ª–µ—Ç—á–∞—Ç–æ–º –ø–æ–ª–µ —Ä—è–¥–æ–º —Å —Ñ–∏–≥—É—Ä–æ–π –Ω–∞—Ä–∏—Å—É–π –ø—Ä—è–º–æ—É–≥–æ–ª—å–Ω–∏–∫, –ø–ª–æ—â–∞–¥—å –∫–æ—Ç–æ—Ä–æ–≥–æ —Ä–∞–≤–Ω–∞ –ø–ª–æ—â–∞–¥–∏ –¥–∞–Ω–Ω–æ–π —Ñ–∏–≥—É—Ä—ã.",
                                 "type": "draw",
                                 "points": 1
                            }
                        ]
                    },
                    {
                        "id": 7,
                        "question": "–°–∫–æ–ª—å–∫–æ —Å–∞–ª—Ñ–µ—Ç–æ–∫ —Å–≤—è–∑–∞–ª–∞ –î–∞—Ä—å—è?",
                        "table": {
                        "headers": ["–ú–∞—Å—Ç–µ—Ä–∏—Ü–∞", "–í–æ—Ä–æ—Ç–Ω–∏–∫", "–°–∞–ª—Ñ–µ—Ç–∫–∞", "–°–∫–∞—Ç–µ—Ä—Ç—å"],
                        "rows": [
                                ["–í–∞—Å–∏–ª–∏—Å–∞", "4", "8", "2"],
                                ["–î–∞—Ä—å—è", "1", "8", "6"],
                                ["–ó–∞–±–∞–≤–∞", "8", "12", "6"],
                                ["–ú–∞—Ä—Ñ–∞", "6", "14", "1"]
                            ]
                        },
                        "answer": "8",
                        "type": "number",
                        "points": 1
                    },
                    {
                        "id": 8,
                        "question": "–ö—Ç–æ –∏–∑ –º–∞—Å—Ç–µ—Ä–∏—Ü —Å–≤—è–∑–∞–ª –±–æ–ª—å—à–µ –≤—Å–µ–≥–æ –∏–∑–¥–µ–ª–∏–π?",
                        "answer": "–ó–∞–±–∞–≤–∞",
                        "type": "text",
                        "points": 1
                    },
                    {
                        "id": 9,
                        "question": "–ù–∞–π–¥–∏ –∑–Ω–∞—á–µ–Ω–∏–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è 1400 : 5 + 435 : 3",
                        "answer": "425",
                        "type": "number",
                        "points": 1
                    },
                    {
                        "id": 10,
                        "question": "–î–∞—à–∞ –ø–æ–ª—É—á–∏–ª–∞ –Ω–∞ –¥–µ–Ω—å —Ä–æ–∂–¥–µ–Ω–∏—è –ø–æ—Å—ã–ª–∫—É, –≤–µ—Å –∫–æ—Ç–æ—Ä–æ–π –±—ã–ª —Ä–∞–≤–µ–Ω 3 –∫–≥. –í –ø–æ—Å—ã–ª–∫–µ –±—ã–ª–æ —Ç—Ä–∏ –∫—É–∫–ª—ã –æ–¥–∏–Ω–∞–∫–æ–≤–æ–≥–æ –≤–µ—Å–∞, –∞ —Ç–∞–∫–∂–µ —à–µ—Å—Ç—å –∫–æ—Ä–æ–±–æ–∫ –∫–æ–Ω—Ñ–µ—Ç, –∫–∞–∂–¥–∞—è –∏–∑ –∫–æ—Ç–æ—Ä—ã—Ö –≤–µ—Å–∏–ª–∞ 300 –≥. –°–∫–æ–ª—å–∫–æ –≤–µ—Å–∏–ª–∞ –æ–¥–Ω–∞ –∫—É–∫–ª–∞?",
                        "answer": "400",
                        "type": "text",
                        "points": 2
                    },
                    {
                        "id": 11,
                        "question": "–ù–∞ –∫–æ–º–ø—å—é—Ç–µ—Ä–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –ø–∞—Ä–æ–ª—å, —Å–æ—Å—Ç–æ—è—â–∏–π –∏–∑ —Å–µ–º–∏ —Ü–∏—Ñ—Ä. –¶–∏—Ñ—Ä—ã –∏–¥—É—Ç –≤ –ø–æ—Ä—è–¥–∫–µ —É–±—ã–≤–∞–Ω–∏—è, —Ç.–µ. –∫–∞–∂–¥–∞—è —Å–ª–µ–¥—É—é—â–∞—è —Ü–∏—Ñ—Ä–∞ –º–µ–Ω—å—à–µ –ø—Ä–µ–¥—ã–¥—É—â–µ–π. –¢—Ä–µ—Ç—å—è —Ü–∏—Ñ—Ä–∞ –≤ —ç—Ç–æ–º –ø–∞—Ä–æ–ª–µ ‚Äî ¬´5¬ª, —à–µ—Å—Ç–∞—è ‚Äî ¬´2¬ª.",
                        "subtasks": [
                            {
                                 "id": "11_1",
                                 "question": "1) –ö–∞–∫–∞—è —Ü–∏—Ñ—Ä–∞ –≤ –ø–∞—Ä–æ–ª–µ –ø—è—Ç–∞—è?",
                                 "answer": "3",
                                 "type": "number",
                                 "points": 1
                            },
                            {
                                 "id": "11_2",
                                 "question": "2) –ó–∞–ø–∏—à–∏ –≤—Å–µ —Ü–∏—Ñ—Ä—ã, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç —Å—Ç–æ—è—Ç—å –Ω–∞ –ø–µ—Ä–≤–æ–º –º–µ—Å—Ç–µ –≤ –ø–∞—Ä–æ–ª–µ. –¶–∏—Ñ—Ä—ã –∑–∞–ø–∏—à–∏ –≤ –æ—Ç–≤–µ—Ç–µ –¥—Ä—É–≥ –∑–∞ –¥—Ä—É–≥–æ–º –≤ –ø–æ—Ä—è–¥–∫–µ –≤–æ–∑—Ä–∞—Å—Ç–∞–Ω–∏—è –±–µ–∑ —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å–Ω—ã—Ö –∑–Ω–∞–∫–æ–≤.",
                                 "answer": "789",
                                 "type": "text",
                                 "points": 1
                            }
                        ]
                    },
                    {
                        "id": 13,
                        "question": "–í–æ–¥–∏—Ç–µ–ª—å –≤–∏–¥–∏—Ç –≤ –∑–µ—Ä–∫–∞–ª–µ –∑–∞–¥–Ω–µ–≥–æ –≤–∏–¥–∞ –∞–≤—Ç–æ–º–æ–±–∏–ª—å, –∏–¥—É—â–∏–π —Å–∑–∞–¥–∏. –ù–æ–º–µ—Ä –∞–≤—Ç–æ–º–æ–±–∏–ª—è —Ç–æ–∂–µ –æ—Ç—Ä–∞–∂–∞–µ—Ç—Å—è –≤ –∑–µ—Ä–∫–∞–ª–µ. –ö–∞–∫–æ–π –Ω–æ–º–µ—Ä —É —ç—Ç–æ–≥–æ –∞–≤—Ç–æ–º–æ–±–∏–ª—è, –µ—Å–ª–∏ —Å–º–æ—Ç—Ä–µ—Ç—å –Ω–∞ –Ω–µ–≥–æ –Ω–µ –≤ –∑–µ—Ä–∫–∞–ª–æ?",
                        "has_image": true,
                        "answer": "–ö974–ï–í53",
                        "type": "text",
                        "points": 2,
                        "alternative_answers": ["–ö974–ï–í", "K974EB", "–ö974–ï–í53"]
                    },
                    {
                       "id": 14,
                       "question": "–í —à–∫–æ–ª—å–Ω–æ–º –±—É—Ñ–µ—Ç–µ –æ–¥–Ω–∞ —á–∞—à–∫–∞ —á–∞—è, –¥–≤–∞ –ø–∏—Ä–æ–∂–∫–∞ –∏ —Ç—Ä–∏ –∫–æ–Ω—Ñ–µ—Ç—ã —Å—Ç–æ—è—Ç 50 —Ä—É–±., –∞ —Ç—Ä–∏ —á–∞—à–∫–∏ —á–∞—è, –¥–≤–∞ –ø–∏—Ä–æ–∂–∫–∞ –∏ –æ–¥–Ω–∞ –∫–æ–Ω—Ñ–µ—Ç–∞ ‚Äî 30 —Ä—É–±. –°–∫–æ–ª—å–∫–æ —Ä—É–±–ª–µ–π –∑–∞–ø–ª–∞—Ç–∏—Ç –º–∞–ª—å—á–∏–∫ –≤ —à–∫–æ–ª—å–Ω–æ–º –±—É—Ñ–µ—Ç–µ –∑–∞ –ø–æ–∫—É–ø–∫—É –æ–¥–Ω–æ–π —á–∞—à–∫–∏ —á–∞—è, –æ–¥–Ω–æ–≥–æ –ø–∏—Ä–æ–∂–∫–∞ –∏ –æ–¥–Ω–æ–π –∫–æ–Ω—Ñ–µ—Ç—ã?",
                       "answer": "20",
                       "type": "number",
                       "points": 2
                    }
                ]
            }
                    };
        // ============================================
        // –°–û–°–¢–û–Ø–ù–ò–ï –ü–†–ò–õ–û–ñ–ï–ù–ò–Ø
        // ============================================
        let appState = {
            currentPage: 'main',
            currentVariant: null,
            currentTaskIndex: 0,
            userAnswers: {},
            userSolutions: {},
            drawings: {},
            results: [],
    
        // ===== –ù–û–í–´–ï –ü–û–õ–Ø –î–õ–Ø –¢–ê–ô–ú–ï–†–ê =====
        timer: {
            enabled: true,              // –¢–∞–π–º–µ—Ä –≤–∫–ª—é—á–µ–Ω
            minutes: 45,                 // –í—ã–±—Ä–∞–Ω–Ω–æ–µ –≤—Ä–µ–º—è
            seconds: 45 * 60,            // –í—Å–µ–≥–æ —Å–µ–∫—É–Ω–¥
            remaining: 45 * 60,          // –û—Å—Ç–∞–ª–æ—Å—å —Å–µ–∫—É–Ω–¥
            isRunning: false,            // –ò–¥–µ—Ç –ª–∏ –æ—Ç—Å—á–µ—Ç
            warningShown: false,          // –ü–æ–∫–∞–∑–∞–Ω–æ –ª–∏ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ
            startTime: null,              // –í—Ä–µ–º—è —Å—Ç–∞—Ä—Ç–∞ (timestamp)
            pausedAt: null                 // –í—Ä–µ–º—è –ø–∞—É–∑—ã
        }
    };

        // –í—Ä–µ–º–µ–Ω–Ω—ã–µ —Ç–æ—á–∫–∏ –¥–ª—è —Ä–∏—Å–æ–≤–∞–Ω–∏—è
        let tempPoints = {};

        // ============================================
        // –§–£–ù–ö–¶–ò–ò –ù–ê–í–ò–ì–ê–¶–ò–ò
        // ============================================
        function showPage(page) {
            document.getElementById('main-page').style.display = 'none';
            document.getElementById('variants-page').style.display = 'none';
            document.getElementById('variant-info-page').style.display = 'none';
            document.getElementById('task-page').style.display = 'none';
            document.getElementById('result-page').style.display = 'none';
            
            document.getElementById('nav-main').classList.remove('active');
            document.getElementById('nav-variants').classList.remove('active');
            
            if (page === 'main') {
                document.getElementById('main-page').style.display = 'block';
                document.getElementById('nav-main').classList.add('active');
                appState.currentPage = 'main';
            } else if (page === 'variants') {
                document.getElementById('variants-page').style.display = 'block';
                document.getElementById('nav-variants').classList.add('active');
                appState.currentPage = 'variants';
                renderVariants();
            }
        }

        // ============================================
        // –û–¢–†–ò–°–û–í–ö–ê –í–ê–†–ò–ê–ù–¢–û–í
        // ============================================
        function renderVariants() {
            const grid = document.getElementById('variants-grid');
            let html = '';
            
            for (const [varId, variant] of Object.entries(variants)) {
                let maxPoints = 0;
                for (const task of variant.tasks) {
                    if (task.subtasks) {
                        for (const subtask of task.subtasks) {
                            maxPoints += subtask.points;
                        }
                    } else {
                        maxPoints += task.points;
                    }
                }
                
                let color1, color2;
                if (varId === '1') {
                    color1 = '#f57c00';
                    color2 = '#ef6c00';
                } else if (varId === '2') {
                    color1 = '#7b1fa2';
                    color2 = '#6a1b9a';
                } else if (varId === '3') {
                    color1 = '#2e7d32';
                    color2 = '#1b5e20';
                } else {
                    color1 = '#c2185b';
                    color2 = '#880e4f';
                }
                
                html += `
                    <div class="variant-card" onclick="showVariantInfo('${varId}')">
                        <div class="variant-header" style="background: linear-gradient(135deg, ${color1}, ${color2});">
                            <div style="font-size: 2.5em; margin-bottom: 5px;">üìù</div>
                            <h3 style="margin: 5px 0;">${variant.name}</h3>
                        </div>
                        <div class="variant-body">
                            <p style="color: #666; margin-bottom: 15px;">${variant.description}</p>
                            <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
                                <span>üìä –ó–∞–¥–∞–Ω–∏–π:</span>
                                <span style="font-weight: bold;">${variant.tasks.length}</span>
                            </div>
                            <div style="display: flex; justify-content: space-between; margin-bottom: 15px;">
                                <span>üèÜ –ú–∞–∫—Å. –±–∞–ª–ª:</span>
                                <span style="font-weight: bold;">${maxPoints}</span>
                            </div>
                            <div style="text-align: center; margin-top: 20px;">
                                <button class="btn btn-primary" style="padding: 10px 25px;">
                                    –ü–æ–¥—Ä–æ–±–Ω–µ–µ ‚Üí
                                </button>
                            </div>
                        </div>
                    </div>
                `;
            }
            
            grid.innerHTML = html;
        }

        // ============================================
        // –ü–û–ö–ê–ó –ò–ù–§–û–†–ú–ê–¶–ò–ò –û –í–ê–†–ò–ê–ù–¢–ï
        // ============================================
        function showVariantInfo(variantId) {
            const variant = variants[variantId];
            if (!variant) return;
            
            appState.currentVariant = variantId;
            
            let maxPoints = 0;
            for (const task of variant.tasks) {
                if (task.subtasks) {
                    for (const subtask of task.subtasks) {
                        maxPoints += subtask.points;
                    }
                } else {
                    maxPoints += task.points;
                }
            }
            
            const html = `
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                    <h1 style="color: #f57c00; font-size: 2em;">üìù ${variant.name}</h1>
                    <span style="background: #e8eaf6; color: #3949ab; padding: 5px 15px; border-radius: 20px;">
                        ${variant.year} –≥–æ–¥
                    </span>
                </div>
                
                <p style="font-size: 1.2em; color: #666; margin-bottom: 30px;">${variant.description}</p>
                
                <div style="background: #f5f5f5; border-radius: 15px; padding: 20px; margin-bottom: 30px;">
                    <h3 style="color: #3949ab; margin-bottom: 15px;">üìã –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è:</h3>
                    
                    <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 15px;">
                        <div style="background: white; padding: 15px; border-radius: 10px; text-align: center;">
                            <div style="font-size: 2em; color: #5c6bc0;">üìä</div>
                            <div style="font-size: 1.5em; font-weight: bold;">${variant.tasks.length}</div>
                            <div style="color: #666;">–∑–∞–¥–∞–Ω–∏–π</div>
                        </div>
                        <div style="background: white; padding: 15px; border-radius: 10px; text-align: center;">
                            <div style="font-size: 2em; color: #5c6bc0;">‚è±Ô∏è</div>
                            <div style="font-size: 1.5em; font-weight: bold;">45</div>
                            <div style="color: #666;">–º–∏–Ω—É—Ç</div>
                        </div>
                        <div style="background: white; padding: 15px; border-radius: 10px; text-align: center;">
                            <div style="font-size: 2em; color: #5c6bc0;">üèÜ</div>
                            <div style="font-size: 1.5em; font-weight: bold;">${maxPoints}</div>
                            <div style="color: #666;">–±–∞–ª–ª–æ–≤</div>
                        </div>
                    </div>
                </div>
                
                <div style="display: flex; gap: 15px; justify-content: center;">
                    <button onclick="showPage('variants')" class="btn btn-secondary">‚Üê –ö —Å–ø–∏—Å–∫—É</button>
                    <button onclick="startVariant()" class="btn btn-primary">–ù–∞—á–∞—Ç—å ‚Üí</button>
                </div>
            `;
            
            document.getElementById('variant-info-card').innerHTML = html;
            
            document.getElementById('main-page').style.display = 'none';
            document.getElementById('variants-page').style.display = 'none';
            document.getElementById('variant-info-page').style.display = 'block';
            document.getElementById('task-page').style.display = 'none';
            document.getElementById('result-page').style.display = 'none';
            
            appState.currentPage = 'variant-info';
        }

        // ============================================
        // –ù–ê–ß–ê–¢–¨ –í–ê–†–ò–ê–ù–¢
        // ============================================
        function startVariant() {
            appState.currentTaskIndex = 0;
            appState.userAnswers = {};
            appState.userSolutions = {};
            appState.drawings = {};
            appState.results = [];
            
            renderTask();
        }

        // ============================================
        // –û–¢–†–ò–°–û–í–ö–ê –ó–ê–î–ê–ù–ò–Ø
        // ============================================
        function renderTask() {
            const variant = variants[appState.currentVariant];
            if (!variant) return;
            
            const task = variant.tasks[appState.currentTaskIndex];
            const taskNumber = appState.currentTaskIndex + 1;
            const total = variant.tasks.length;
            
            let taskImage = null;
            if (task.has_image && variant.image_files) {
                const taskId = String(task.id).split('_')[0];
                taskImage = variant.image_files[taskId];
            }
            
            let html = `
                <div class="task-header">
                    <span class="task-number">–ó–∞–¥–∞–Ω–∏–µ ${task.id}</span>
                    <span class="task-points">
            `;
            
            if (task.subtasks) {
                let subtaskPoints = 0;
                for (const subtask of task.subtasks) {
                    subtaskPoints += subtask.points;
                }
                html += `${subtaskPoints} –±–∞–ª–ª–æ–≤`;
            } else {
                html += `${task.points} ${task.points === 1 ? '–±–∞–ª–ª' : task.points < 5 ? '–±–∞–ª–ª–∞' : '–±–∞–ª–ª–æ–≤'}`;
            }
            
            html += `</span></div>`;
            
            html += `<div class="task-question">${task.question}</div>`;
            
            if (taskImage) {
                // –£–±–µ–¥–∏–º—Å—è, —á—Ç–æ –ø—É—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π
                const imagePath = `images/${taskImage}`;
                console.log("–ó–∞–≥—Ä—É–∂–∞—é –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ:", imagePath); // –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
    
                html += `
                    <div class="image-container">
                        <img src="${imagePath}" 
                             alt="–†–∏—Å—É–Ω–æ–∫ –∫ –∑–∞–¥–∞–Ω–∏—é" 
                             class="vpr-image"
                             onerror="console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏:', this.src)">
                        ${task.id == 5 ? '<div class="image-caption">–°—Ç–æ—Ä–æ–Ω–∞ –∫–ª–µ—Ç–∫–∏ 1 —Å–º</div>' : ''}
                    </div>
                `;
            }
            
            if (task.table) {
                html += `<div class="table-container"><table><thead><tr>`;
                for (const header of task.table.headers) {
                    html += `<th>${header}</th>`;
                }
                html += `</tr></thead><tbody>`;
                for (const row of task.table.rows) {
                    html += `<tr>`;
                    for (const cell of row) {
                        html += `<td>${cell}</td>`;
                    }
                    html += `</tr>`;
                }
                html += `</tbody></table></div>`;
            }
            
            html += `<div class="task-form">`;
            
            if (task.subtasks) {
                for (const subtask of task.subtasks) {
                    html += `
                        <div class="subtask">
                            <div style="font-weight: bold; margin-bottom: 15px;">${subtask.question}</div>
                    `;
                    
                    if (subtask.type === 'draw') {
                        const drawingKey = `${task.id}_${subtask.id}`;
                        const savedDrawing = appState.drawings[drawingKey] || '';
                        
                        html += `
                            <div style="margin: 20px 0;">
                                <div class="solution-label">‚úèÔ∏è –ù–∞—Ä–∏—Å—É–π (–∫–ª–∏–∫–∞–π –ø–æ –∫–ª–µ—Ç–∫–∞–º):</div>
                                <div class="drawing-grid" id="drawing-grid-${drawingKey}">
                        `;
                        
                        for (let row = 0; row < 15; row++) {
                            for (let col = 0; col < 20; col++) {
                                const cellIndex = row * 20 + col;
                                const isFilled = savedDrawing.split(',').includes(String(cellIndex));
                                html += `<div class="grid-cell ${isFilled ? 'filled' : ''}" onclick="toggleDrawingCell('${drawingKey}', ${row}, ${col}, this)"></div>`;
                            }
                        }
                        
                        html += `
                                </div>
                                <input type="hidden" id="drawing-${drawingKey}" value="${savedDrawing}">
                            </div>
                        `;
                    } else {
                        const answerKey = `${task.id}_${subtask.id}`;
                        const savedAnswer = appState.userAnswers[answerKey] || '';
                        const savedSolution = appState.userSolutions[answerKey] || '';
                        
                        html += `
                            <div class="solution-area">
                                <div class="solution-label">‚úèÔ∏è –†–µ—à–µ–Ω–∏–µ:</div>
                                <textarea class="solution-input" id="solution-${answerKey}" placeholder="–ó–∞–ø–∏—à–∏ —Ä–µ—à–µ–Ω–∏–µ...">${savedSolution}</textarea>
                            </div>
                            <div class="answer-area">
                                <div class="solution-label">üìù –û—Ç–≤–µ—Ç:</div>
                                <input type="text" class="answer-input" id="answer-${answerKey}" value="${savedAnswer}" placeholder="–í–≤–µ–¥–∏ –æ—Ç–≤–µ—Ç">
                            </div>
                        `;
                    }
                    
                    html += `</div>`;
                }
            } else if (task.type === 'draw') {
                const drawingKey = task.id;
                const savedDrawing = appState.drawings[drawingKey] || '';
                
                html += `
                    <div style="margin: 20px 0;">
                        <div class="solution-label">‚úèÔ∏è –ù–∞—Ä–∏—Å—É–π (–∫–ª–∏–∫–∞–π –ø–æ –∫–ª–µ—Ç–∫–∞–º):</div>
                        <div class="drawing-grid" id="drawing-grid-${drawingKey}">
                `;
                
                for (let row = 0; row < 15; row++) {
                    for (let col = 0; col < 20; col++) {
                        const cellIndex = row * 20 + col;
                        const isFilled = savedDrawing.split(',').includes(String(cellIndex));
                        html += `<div class="grid-cell ${isFilled ? 'filled' : ''}" onclick="toggleDrawingCell('${drawingKey}', ${row}, ${col}, this)"></div>`;
                    }
                }
                
                html += `
                        </div>
                        <input type="hidden" id="drawing-${drawingKey}" value="${savedDrawing}">
                    </div>
                `;
            } else {
                const answerKey = task.id;
                const savedAnswer = appState.userAnswers[answerKey] || '';
                const savedSolution = appState.userSolutions[answerKey] || '';
                
                html += `
                    <div class="solution-area">
                        <div class="solution-label">‚úèÔ∏è –†–µ—à–µ–Ω–∏–µ:</div>
                        <textarea class="solution-input" id="solution-${answerKey}" placeholder="–ó–∞–ø–∏—à–∏ —Ä–µ—à–µ–Ω–∏–µ...">${savedSolution}</textarea>
                    </div>
                    <div class="answer-area">
                        <div class="solution-label">üìù –û—Ç–≤–µ—Ç:</div>
                        <input type="text" class="answer-input" id="answer-${answerKey}" value="${savedAnswer}" placeholder="–í–≤–µ–¥–∏ –æ—Ç–≤–µ—Ç">
                    </div>
                `;
            }
            
            html += `
                <div class="button-group">
                    <button class="btn btn-primary" onclick="saveCurrentTask()">üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                </div>
                
                <div class="save-notice" id="saveNotice">–û—Ç–≤–µ—Ç—ã —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã!</div>
            `;
            
            html += `
                <div class="navigation">
                    <button class="btn btn-secondary" onclick="prevTask()" ${taskNumber === 1 ? 'disabled' : ''}>‚Üê –ü—Ä–µ–¥—ã–¥—É—â–µ–µ</button>
                    <button class="btn btn-secondary" onclick="nextTask()" ${taskNumber === total ? 'disabled' : ''}>–°–ª–µ–¥—É—é—â–µ–µ ‚Üí</button>
                </div>
                
                <div style="text-align: center; margin-top: 20px;">
                    <button class="btn btn-success" onclick="finishVariant()">üìä –ó–∞–≤–µ—Ä—à–∏—Ç—å –∏ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç</button>
                </div>
            `;
            
            html += `</div>`;
            
            document.getElementById('task-card').innerHTML = html;
            
            document.getElementById('main-page').style.display = 'none';
            document.getElementById('variants-page').style.display = 'none';
            document.getElementById('variant-info-page').style.display = 'none';
            document.getElementById('task-page').style.display = 'block';
            document.getElementById('result-page').style.display = 'none';
            
            appState.currentPage = 'task';
        }

        // ============================================
        // –§–£–ù–ö–¶–ò–ò –î–õ–Ø –†–ò–°–û–í–ê–ù–ò–Ø
        // ============================================
        function toggleDrawingCell(drawingKey, row, col, element) {
            element.classList.toggle('filled');
            
            const grid = document.getElementById(`drawing-grid-${drawingKey}`);
            const cells = grid.querySelectorAll('.grid-cell');
            const filledCells = [];
            
            cells.forEach((cell, index) => {
                if (cell.classList.contains('filled')) {
                    filledCells.push(index);
                }
            });
            
            document.getElementById(`drawing-${drawingKey}`).value = filledCells.join(',');
            appState.drawings[drawingKey] = filledCells.join(',');
        }

        // ============================================
        // –°–û–•–†–ê–ù–ï–ù–ò–ï –¢–ï–ö–£–©–ï–ì–û –ó–ê–î–ê–ù–ò–Ø
        // ============================================
        function saveCurrentTask() {
            const variant = variants[appState.currentVariant];
            const task = variant.tasks[appState.currentTaskIndex];
            
            if (task.subtasks) {
                for (const subtask of task.subtasks) {
                    const answerKey = `${task.id}_${subtask.id}`;
                    const solutionKey = `${task.id}_${subtask.id}`;
                    
                    const answerInput = document.getElementById(`answer-${answerKey}`);
                    const solutionInput = document.getElementById(`solution-${solutionKey}`);
                    
                    if (answerInput) {
                        appState.userAnswers[answerKey] = answerInput.value;
                    }
                    if (solutionInput) {
                        appState.userSolutions[solutionKey] = solutionInput.value;
                    }
                    
                    if (answerInput && subtask.answer) {
                        const isCorrect = checkAnswer(subtask, answerInput.value);
                        
                        const resultIndex = appState.results.findIndex(r => r.taskId === answerKey);
                        const result = {
                            taskId: answerKey,
                            question: subtask.question,
                            userAnswer: answerInput.value,
                            correctAnswer: subtask.answer,
                            isCorrect: isCorrect,
                            points: subtask.points
                        };
                        
                        if (resultIndex >= 0) {
                            appState.results[resultIndex] = result;
                        } else {
                            appState.results.push(result);
                        }
                    }
                }
            } else {
                const answerKey = task.id;
                const solutionKey = task.id;
                
                const answerInput = document.getElementById(`answer-${answerKey}`);
                const solutionInput = document.getElementById(`solution-${solutionKey}`);
                
                if (answerInput) {
                    appState.userAnswers[answerKey] = answerInput.value;
                }
                if (solutionInput) {
                    appState.userSolutions[solutionKey] = solutionInput.value;
                }
                
                if (answerInput && task.answer) {
                    const isCorrect = checkAnswer(task, answerInput.value);
                    
                    const resultIndex = appState.results.findIndex(r => r.taskId === answerKey);
                    const result = {
                        taskId: answerKey,
                        question: task.question,
                        userAnswer: answerInput.value,
                        correctAnswer: task.answer,
                        isCorrect: isCorrect,
                        points: task.points
                    };
                    
                    if (resultIndex >= 0) {
                        appState.results[resultIndex] = result;
                    } else {
                        appState.results.push(result);
                    }
                }
            }
            
            const notice = document.getElementById('saveNotice');
            notice.style.display = 'block';
            setTimeout(() => {
                notice.style.display = 'none';
            }, 2000);
        }

        // ============================================
        // –ü–†–û–í–ï–†–ö–ê –û–¢–í–ï–¢–ê
        // ============================================
        function checkAnswer(task, userAnswer) {
            if (!userAnswer) return false;
            
            const correct = String(task.answer).toLowerCase().trim();
            const user = userAnswer.toLowerCase().trim();
            
            if (user === correct) return true;
            
            if (task.alternative_answers) {
                for (const alt of task.alternative_answers) {
                    if (user === String(alt).toLowerCase().trim()) return true;
                }
            }
            
            return false;
        }

        // ============================================
        // –ù–ê–í–ò–ì–ê–¶–ò–Ø –ü–û –ó–ê–î–ê–ù–ò–Ø–ú
        // ============================================
        function nextTask() {
            const variant = variants[appState.currentVariant];
            if (appState.currentTaskIndex < variant.tasks.length - 1) {
                appState.currentTaskIndex++;
                renderTask();
            }
        }
        
        function prevTask() {
            if (appState.currentTaskIndex > 0) {
                appState.currentTaskIndex--;
                renderTask();
            }
        }

        // ============================================
        // –ó–ê–í–ï–†–®–ï–ù–ò–ï –ò –ü–û–ö–ê–ó –†–ï–ó–£–õ–¨–¢–ê–¢–û–í
        // ============================================
        function finishVariant() {
            saveCurrentTask();
            
            const variant = variants[appState.currentVariant];
            
            let totalPoints = 0;
            let maxPoints = 0;
            
            for (const task of variant.tasks) {
                if (task.subtasks) {
                    for (const subtask of task.subtasks) {
                        maxPoints += subtask.points;
                    }
                } else {
                    maxPoints += task.points;
                }
            }
            
            for (const result of appState.results) {
                if (result.isCorrect) {
                    totalPoints += result.points;
                }
            }
            
            let grade, gradeText;
            if (totalPoints >= 14) {
                grade = 5;
                gradeText = "–û—Ç–ª–∏—á–Ω–æ! –¢—ã –≥–æ—Ç–æ–≤ –∫ –í–ü–†!";
            } else if (totalPoints >= 9) {
                grade = 4;
                gradeText = "–•–æ—Ä–æ—à–æ! –ù–µ–º–Ω–æ–≥–æ –ø–æ–≤—Ç–æ—Ä–∏ —Å–ª–æ–∂–Ω—ã–µ —Ç–µ–º—ã.";
            } else if (totalPoints >= 5) {
                grade = 3;
                gradeText = "–£–¥–æ–≤–ª–µ—Ç–≤–æ—Ä–∏—Ç–µ–ª—å–Ω–æ. –û–±—Ä–∞—Ç–∏ –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞ –æ—à–∏–±–∫–∏.";
            } else {
                grade = 2;
                gradeText = "–ù—É–∂–Ω–æ –µ—â–µ –ø–æ–∑–∞–Ω–∏–º–∞—Ç—å—Å—è. –ü–æ–ø—Ä–æ–±—É–π –µ—â–µ —Ä–∞–∑!";
            }
            
            let resultsHtml = '';
            for (const result of appState.results) {
                resultsHtml += `
                    <tr>
                        <td style="font-weight: bold;">${result.taskId}</td>
                        <td>${result.userAnswer || '‚Äî'}</td>
                        <td>${result.correctAnswer || '‚Äî'}</td>
                        <td class="${result.isCorrect ? 'correct' : 'incorrect'}">
                            ${result.isCorrect ? '‚úì' : '‚úó'}
                        </td>
                    </tr>
                `;
            }
            
            const html = `
                <div style="text-align: center;">
                    <h1>üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã</h1>
                    <p style="color: #666; margin-bottom: 20px;">${variant.name}</p>
                    
                    <div style="margin: 40px 0;">
                        <div class="score-number">${totalPoints}</div>
                        <div style="font-size: 1.5em; color: #666;">–∏–∑ ${maxPoints} –±–∞–ª–ª–æ–≤</div>
                    </div>
                    
                    <div class="grade-box" style="background: ${grade === 5 ? '#4CAF50' : grade === 4 ? '#FF9800' : grade === 3 ? '#FFC107' : '#f44336'};">
                        <div class="grade-number">${grade}</div>
                        <div class="grade-text">${gradeText}</div>
                    </div>
                    
                    <h3 style="margin: 30px 0;">–®–∫–∞–ª–∞ –ø–µ—Ä–µ–≤–æ–¥–∞ –±–∞–ª–ª–æ–≤:</h3>
                    <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px; margin: 20px 0;">
                        <div style="background: #4CAF50; color: white; padding: 15px; border-radius: 10px; text-align: center;">
                            <div style="font-size: 1.5em;">5</div>
                            <div>14-18</div>
                        </div>
                        <div style="background: #FF9800; color: white; padding: 15px; border-radius: 10px; text-align: center;">
                            <div style="font-size: 1.5em;">4</div>
                            <div>9-13</div>
                        </div>
                        <div style="background: #FFC107; color: white; padding: 15px; border-radius: 10px; text-align: center;">
                            <div style="font-size: 1.5em;">3</div>
                            <div>5-8</div>
                        </div>
                        <div style="background: #f44336; color: white; padding: 15px; border-radius: 10px; text-align: center;">
                            <div style="font-size: 1.5em;">2</div>
                            <div>0-4</div>
                        </div>
                    </div>
                </div>
                
                <div style="margin-top: 40px;">
                    <h2 style="margin-bottom: 20px;">üìù –î–µ—Ç–∞–ª—å–Ω—ã–π —Ä–∞–∑–±–æ—Ä</h2>
                    
                    <table class="results-table">
                        <thead>
                            <tr>
                                <th>–ó–∞–¥–∞–Ω–∏–µ</th>
                                <th>–¢–≤–æ–π –æ—Ç–≤–µ—Ç</th>
                                <th>–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç</th>
                                <th>–†–µ–∑—É–ª—å—Ç–∞—Ç</th>
                            </tr>
                        </thead>
                        <tbody>
                            ${resultsHtml}
                        </tbody>
                    </table>
                </div>
                
                <div style="display: flex; gap: 15px; justify-content: center; margin-top: 40px;">
                    <button onclick="restartVariant()" class="btn btn-primary">üîÑ –ü—Ä–æ–π—Ç–∏ –µ—â–µ —Ä–∞–∑</button>
                    <button onclick="showPage('variants')" class="btn btn-secondary">üìã –ö —Å–ø–∏—Å–∫—É –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤</button>
                </div>
            `;
            
            document.getElementById('result-card').innerHTML = html;
            
            document.getElementById('main-page').style.display = 'none';
            document.getElementById('variants-page').style.display = 'none';
            document.getElementById('variant-info-page').style.display = 'none';
            document.getElementById('task-page').style.display = 'none';
            document.getElementById('result-page').style.display = 'block';
            
            appState.currentPage = 'result';
        }

        // ============================================
        // –ü–†–û–ô–¢–ò –í–ê–†–ò–ê–ù–¢ –ó–ê–ù–û–í–û
        // ============================================
        function restartVariant() {
            startVariant();
        }

        // ============================================
        // –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø
        // ============================================
        document.addEventListener('DOMContentLoaded', function() {
            showPage('main');
        });
    
        // ============================================
        // –§–£–ù–ö–¶–ò–ò –¢–ê–ô–ú–ï–†–ê (–ë–ï–ó –ó–í–£–ö–ê)
        // ============================================

        // –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è –¥–ª—è –∏–Ω—Ç–µ—Ä–≤–∞–ª–∞
        let timerInterval = null;

        function startTimer() {
            console.log("–¢–∞–π–º–µ—Ä –∑–∞–ø—É—â–µ–Ω"); // –î–ª—è –æ—Ç–ª–∞–¥–∫–∏
    
            if (!appState.timer.enabled || appState.timer.minutes === 0) {
                document.getElementById('timer-container').style.display = 'none';
                return;
            }
    
            // –ó–∞–≥—Ä—É–∂–∞–µ–º —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω–æ–µ –≤—Ä–µ–º—è
            loadTimerState();
    
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ç–∞–π–º–µ—Ä
            document.getElementById('timer-container').style.display = 'block';
    
            if (!appState.timer.isRunning && appState.timer.remaining > 0) {
                appState.timer.isRunning = true;
                appState.timer.startTime = Date.now() - ((appState.timer.minutes * 60 - appState.timer.remaining) * 1000);
        
            // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ localStorage
            saveTimerState();
        
            // –ó–∞–ø—É—Å–∫–∞–µ–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–∞–∂–¥—É—é —Å–µ–∫—É–Ω–¥—É
            if (timerInterval) clearInterval(timerInterval);
            timerInterval = setInterval(updateTimer, 1000);
        
            // –ú–µ–Ω—è–µ–º –∏–∫–æ–Ω–∫—É –∫–Ω–æ–ø–∫–∏
            const pauseBtn = document.getElementById('pause-btn');
            if (pauseBtn) pauseBtn.innerHTML = '‚è∏Ô∏è';
            }
        }    

        function pauseTimer() {
            if (!appState.timer.isRunning) {
                // –í–æ–∑–æ–±–Ω–æ–≤–ª—è–µ–º
                appState.timer.isRunning = true;
                if (appState.timer.pausedAt) {
                // –ö–æ—Ä—Ä–µ–∫—Ç–∏—Ä—É–µ–º startTime —Å —É—á–µ—Ç–æ–º –ø–∞—É–∑—ã
                const pauseDuration = Date.now() - appState.timer.pausedAt;
                appState.timer.startTime += pauseDuration;
                appState.timer.pausedAt = null;
                }
        
                document.getElementById('pause-btn').innerHTML = '‚è∏Ô∏è';
                timerInterval = setInterval(updateTimer, 1000);
            } else {
                // –ü–∞—É–∑–∞
                appState.timer.isRunning = false;
                appState.timer.pausedAt = Date.now();
                clearInterval(timerInterval);
        
                document.getElementById('pause-btn').innerHTML = '‚ñ∂Ô∏è';
            }
    
            saveTimerState();
        }

        function resetTimer() {
            // –°–±—Ä–∞—Å—ã–≤–∞–µ–º —Ç–∞–π–º–µ—Ä –Ω–∞ –≤—ã–±—Ä–∞–Ω–Ω–æ–µ –≤—Ä–µ–º—è
            appState.timer.remaining = appState.timer.minutes * 60;
            appState.timer.warningShown = false;
            appState.timer.isRunning = false;
            appState.timer.pausedAt = null;
    
            if (timerInterval) {
                clearInterval(timerInterval);
                timerInterval = null;
            }
    
            updateTimerDisplay();
    
            const pauseBtn = document.getElementById('pause-btn');
            if (pauseBtn) pauseBtn.innerHTML = '‚è∏Ô∏è';
    
            const timerEl = document.getElementById('timer');
            if (timerEl) {
            timerEl.classList.remove('warning', 'expired');
            }
    
            // –û—á–∏—â–∞–µ–º —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
            localStorage.removeItem('vpr_timer_state');
        }

        function changeTimerTime(minutes) {
            minutes = parseInt(minutes);
            appState.timer.minutes = minutes;
            appState.timer.enabled = minutes > 0;
    
            if (minutes === 0) {
                // –ë–µ–∑ —Ç–∞–π–º–µ—Ä–∞
                document.getElementById('timer-container').style.display = 'none';
                appState.timer.isRunning = false;
                if (timerInterval) {
                    clearInterval(timerInterval);
                    timerInterval = null;
                }
            } else {
                // –° –Ω–æ–≤—ã–º –≤—Ä–µ–º–µ–Ω–µ–º
                appState.timer.remaining = minutes * 60;
                updateTimerDisplay();
                appState.timer.isRunning = false;
                appState.timer.pausedAt = null;
        
                const pauseBtn = document.getElementById('pause-btn');
                if (pauseBtn) pauseBtn.innerHTML = '‚è∏Ô∏è';
        
                const timerEl = document.getElementById('timer');
                if (timerEl) {
                timerEl.classList.remove('warning', 'expired');
                }
        
                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ç–∞–π–º–µ—Ä
                document.getElementById('timer-container').style.display = 'block';
            }
    
            saveTimerState();
        }

        function updateTimer() {
            if (!appState.timer.isRunning) return;
    
            const now = Date.now();
            const elapsed = Math.floor((now - appState.timer.startTime) / 1000);
            appState.timer.remaining = Math.max(0, appState.timer.minutes * 60 - elapsed);
    
            updateTimerDisplay();
    
            // –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –∑–∞ 5 –º–∏–Ω—É—Ç (—Ç–æ–ª—å–∫–æ –≤–∏–∑—É–∞–ª—å–Ω–æ–µ, –±–µ–∑ –∑–≤—É–∫–∞)
            if (appState.timer.remaining <= 300 && appState.timer.remaining > 0 && !appState.timer.warningShown) {
                appState.timer.warningShown = true;
                const timerEl = document.getElementById('timer');
                if (timerEl) timerEl.classList.add('warning');
            }
    
            // –í—Ä–µ–º—è –≤—ã—à–ª–æ
            if (appState.timer.remaining <= 0) {
                appState.timer.remaining = 0;
                appState.timer.isRunning = false;
        
                if (timerInterval) {
                clearInterval(timerInterval);
                timerInterval = null;
                }
        
                const timerEl = document.getElementById('timer');
                if (timerEl) {
                    timerEl.classList.remove('warning');
                    timerEl.classList.add('expired');
                }
        
                updateTimerDisplay();
        
                // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–≤–µ—Ä—à–∞–µ–º –≤–∞—Ä–∏–∞–Ω—Ç, –µ—Å–ª–∏ –æ–Ω —Å–µ–π—á–∞—Å –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è
                if (appState.currentPage === 'task') {
                    // –î–∞–µ–º –Ω–µ–±–æ–ª—å—à—É—é –∑–∞–¥–µ—Ä–∂–∫—É, —á—Ç–æ–±—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–≤–∏–¥–µ–ª, —á—Ç–æ –≤—Ä–µ–º—è –≤—ã—à–ª–æ
                    setTimeout(() => {
                        if (confirm('‚è∞ –í—Ä–µ–º—è –≤—ã—à–ª–æ! –•–æ—á–µ—à—å –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç?')) {
                            finishVariant();
                        }
                    }, 500);
                }
            }
    
            saveTimerState();
        }

        function updateTimerDisplay() {
            const minutes = Math.floor(appState.timer.remaining / 60);
            const seconds = appState.timer.remaining % 60;
            const display = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
    
            const timerDisplay = document.getElementById('timer-display');
            if (timerDisplay) timerDisplay.textContent = display;
        }

        function saveTimerState() {
            try {
                const state = {
                    remaining: appState.timer.remaining,
                    minutes: appState.timer.minutes,
                    isRunning: appState.timer.isRunning,
                    startTime: appState.timer.startTime,
                    pausedAt: appState.timer.pausedAt,
                    warningShown: appState.timer.warningShown,
                    enabled: appState.timer.enabled
                };
                localStorage.setItem('vpr_timer_state', JSON.stringify(state));
            } catch (e) {
                console.log('–ù–µ —É–¥–∞–ª–æ—Å—å —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Ç–∞–π–º–µ—Ä–∞');
            }
        }

        function loadTimerState() {
            try {
                const saved = localStorage.getItem('vpr_timer_state');
                if (saved) {
                    const state = JSON.parse(saved);
                    appState.timer.remaining = state.remaining || appState.timer.minutes * 60;
                    appState.timer.minutes = state.minutes || 45;
                    appState.timer.isRunning = state.isRunning || false;
                    appState.timer.startTime = state.startTime || null;
                    appState.timer.pausedAt = state.pausedAt || null;
                    appState.timer.warningShown = state.warningShown || false;
                    appState.timer.enabled = state.enabled !== undefined ? state.enabled : true;
            
                    updateTimerDisplay();
            
                    // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∫–ª–∞—Å—Å—ã –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è
                    const timerEl = document.getElementById('timer');
                    if (timerEl) {
                        if (appState.timer.warningShown && appState.timer.remaining > 0) {
                            timerEl.classList.add('warning');
                        }
                        if (appState.timer.remaining <= 0) {
                            timerEl.classList.add('expired');
                        }
                    }
            
                    // –ï—Å–ª–∏ —Ç–∞–π–º–µ—Ä –¥–æ–ª–∂–µ–Ω —Ä–∞–±–æ—Ç–∞—Ç—å, –∑–∞–ø—É—Å–∫–∞–µ–º –µ–≥–æ
                    if (appState.timer.isRunning && appState.timer.remaining > 0) {
                        if (timerInterval) clearInterval(timerInterval);
                        timerInterval = setInterval(updateTimer, 1000);
                        document.getElementById('pause-btn').innerHTML = '‚è∏Ô∏è';
                    } else {
                        document.getElementById('pause-btn').innerHTML = '‚è∏Ô∏è';
                    }
                }
            } catch (e) {
                console.log('–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Ç–∞–π–º–µ—Ä–∞');
            }
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Å–±—Ä–æ—Å–∞ —Ç–∞–π–º–µ—Ä–∞ –ø—Ä–∏ –Ω–∞—á–∞–ª–µ –Ω–æ–≤–æ–≥–æ –≤–∞—Ä–∏–∞–Ω—Ç–∞
        function resetTimerForNewVariant() {
            // –°–±—Ä–∞—Å—ã–≤–∞–µ–º –Ω–∞ 45 –º–∏–Ω—É—Ç (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–ª—è –í–ü–†)
            appState.timer.minutes = 45;
            appState.timer.remaining = 45 * 60;
            appState.timer.isRunning = false;
            appState.timer.warningShown = false;
            appState.timer.pausedAt = null;
            appState.timer.enabled = true;
    
            if (timerInterval) {
                clearInterval(timerInterval);
                timerInterval = null;
            }
    
            updateTimerDisplay();
    
            const timerEl = document.getElementById('timer');
            if (timerEl) {
            timerEl.classList.remove('warning', 'expired');
            }
    
            const pauseBtn = document.getElementById('pause-btn');
            if (pauseBtn) pauseBtn.innerHTML = '‚è∏Ô∏è';
    
            // –û–±–Ω–æ–≤–ª—è–µ–º –≤—ã–ø–∞–¥–∞—é—â–∏–π —Å–ø–∏—Å–æ–∫
            const select = document.getElementById('timer-select');
            if (select) select.value = '45';
    
            // –û—á–∏—â–∞–µ–º —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
            localStorage.removeItem('vpr_timer_state');
        }

        // –û–±–Ω–æ–≤–ª—è–µ–º —Ñ—É–Ω–∫—Ü–∏—é startVariant, —á—Ç–æ–±—ã —Ç–∞–π–º–µ—Ä —Å–±—Ä–∞—Å—ã–≤–∞–ª—Å—è
        function startVariant() {
            appState.currentTaskIndex = 0;
            appState.userAnswers = {};
            appState.userSolutions = {};
            appState.drawings = {};
            appState.results = [];
    
            // –°–±—Ä–∞—Å—ã–≤–∞–µ–º —Ç–∞–π–º–µ—Ä
            resetTimerForNewVariant();
  
            renderTask();
    
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ç–∞–π–º–µ—Ä –∏ –∑–∞–ø—É—Å–∫–∞–µ–º
            document.getElementById('timer-container').style.display = 'block';
            startTimer();
        }
    </script>
</body>
</html>